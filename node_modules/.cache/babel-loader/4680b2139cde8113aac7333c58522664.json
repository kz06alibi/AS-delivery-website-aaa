{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\nassi\\\\Desktop\\\\AS delivery\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";import{Button,Card,Dimmer,Divider,Form,Grid,Header,Image,Label,Loader,Menu,Message,Segment,Select,Table}from\"semantic-ui-react\";import{countryListURL,addressListURL,addressCreateURL,addressUpdateURL,addressDeleteURL,userIDURL,paymentListURL}from\"../constants\";import{authAxios}from\"../utils\";var UPDATE_FORM=\"UPDATE_FORM\";var CREATE_FORM=\"CREATE_FORM\";var PaymentHistory=/*#__PURE__*/function(_React$Component){_inherits(PaymentHistory,_React$Component);var _super=_createSuper(PaymentHistory);function PaymentHistory(){var _this;_classCallCheck(this,PaymentHistory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={payments:[]};_this.handleFetchPayments=function(){_this.setState({loading:true});authAxios.get(paymentListURL).then(function(res){_this.setState({loading:false,payments:res.data});}).catch(function(err){_this.setState({error:err,loading:false});});};return _this;}_createClass(PaymentHistory,[{key:\"componentDidMount\",value:function componentDidMount(){this.handleFetchPayments();}},{key:\"render\",value:function render(){var payments=this.state.payments;return/*#__PURE__*/React.createElement(Table,{celled:true},/*#__PURE__*/React.createElement(Table.Header,null,/*#__PURE__*/React.createElement(Table.Row,null,/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"ID\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Amount\"),/*#__PURE__*/React.createElement(Table.HeaderCell,null,\"Date\"))),/*#__PURE__*/React.createElement(Table.Body,null,payments.map(function(p){return/*#__PURE__*/React.createElement(Table.Row,{key:p.id},/*#__PURE__*/React.createElement(Table.Cell,null,p.id),/*#__PURE__*/React.createElement(Table.Cell,null,\"\\u20B8\",p.amount),/*#__PURE__*/React.createElement(Table.Cell,null,new Date(p.timestamp).toUTCString()));})));}}]);return PaymentHistory;}(React.Component);var AddressForm=/*#__PURE__*/function(_React$Component2){_inherits(AddressForm,_React$Component2);var _super2=_createSuper(AddressForm);function AddressForm(){var _this2;_classCallCheck(this,AddressForm);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this2=_super2.call.apply(_super2,[this].concat(args));_this2.state={error:null,loading:false,formData:{address_type:\"\",apartment_address:\"\",country:\"\",default:false,id:\"\",street_address:\"\",user:1,zip:\"\"},saving:false,success:false};_this2.handleToggleDefault=function(){var formData=_this2.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},{default:!formData.default});_this2.setState({formData:updatedFormdata});};_this2.handleChange=function(e){var formData=_this2.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value));_this2.setState({formData:updatedFormdata});};_this2.handleSelectChange=function(e,_ref){var name=_ref.name,value=_ref.value;var formData=_this2.state.formData;var updatedFormdata=_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value));_this2.setState({formData:updatedFormdata});};_this2.handleSubmit=function(e){_this2.setState({saving:true});e.preventDefault();var formType=_this2.props.formType;if(formType===UPDATE_FORM){_this2.handleUpdateAddress();}else{_this2.handleCreateAddress();}};_this2.handleCreateAddress=function(){var _this2$props=_this2.props,userID=_this2$props.userID,activeItem=_this2$props.activeItem;var formData=_this2.state.formData;authAxios.post(addressCreateURL,_objectSpread(_objectSpread({},formData),{},{user:userID,address_type:activeItem===\"shippingAddress\"?\"S\":\"S\"})).then(function(res){_this2.setState({saving:false,success:true,formData:{default:false}});_this2.props.callback();}).catch(function(err){_this2.setState({error:err});});};_this2.handleUpdateAddress=function(){var _this2$props2=_this2.props,userID=_this2$props2.userID,activeItem=_this2$props2.activeItem;var formData=_this2.state.formData;authAxios.put(addressUpdateURL(formData.id),_objectSpread(_objectSpread({},formData),{},{user:userID,address_type:activeItem===\"shippingAddress\"?\"S\":\"S\"})).then(function(res){_this2.setState({saving:false,success:true,formData:{default:false}});_this2.props.callback();}).catch(function(err){_this2.setState({error:err});});};return _this2;}_createClass(AddressForm,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,address=_this$props.address,formType=_this$props.formType;if(formType===UPDATE_FORM){this.setState({formData:address});}}},{key:\"render\",value:function render(){var countries=this.props.countries;var _this$state=this.state,error=_this$state.error,formData=_this$state.formData,success=_this$state.success,saving=_this$state.saving;return/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit,success:success,error:error},/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"street_address\",placeholder:\"Street address\",onChange:this.handleChange,value:formData.street_address}),/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"apartment_address\",placeholder:\"Apartment address\",onChange:this.handleChange,value:formData.apartment_address}),/*#__PURE__*/React.createElement(Form.Field,{required:true},/*#__PURE__*/React.createElement(Select,{loading:countries.length<1,fluid:true,clearable:true,search:true,options:countries,name:\"country\",placeholder:\"Country\",onChange:this.handleSelectChange,value:formData.country})),/*#__PURE__*/React.createElement(Form.Input,{required:true,name:\"zip\",placeholder:\"Zip code\",onChange:this.handleChange,value:formData.zip}),/*#__PURE__*/React.createElement(Form.Checkbox,{name:\"default\",label:\"Make this the default address?\",onChange:this.handleToggleDefault,checked:formData.default}),success&&/*#__PURE__*/React.createElement(Message,{success:true,header:\"Success!\",content:\"Your address was saved\"}),error&&/*#__PURE__*/React.createElement(Message,{error:true,header:\"There was an error\",content:JSON.stringify(error)}),/*#__PURE__*/React.createElement(Form.Button,{disabled:saving,loading:saving,primary:true},\"Save\"));}}]);return AddressForm;}(React.Component);var Profile=/*#__PURE__*/function(_React$Component3){_inherits(Profile,_React$Component3);var _super3=_createSuper(Profile);function Profile(){var _this3;_classCallCheck(this,Profile);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this3=_super3.call.apply(_super3,[this].concat(args));_this3.state={activeItem:\"shippingAddress\",addresses:[],countries:[],userID:null,selectedAddress:null};_this3.handleItemClick=function(name){_this3.setState({activeItem:name},function(){_this3.handleFetchAddresses();});};_this3.handleGetActiveItem=function(){var activeItem=_this3.state.activeItem;if(activeItem===\"shippingAddress\"){return\"Shipping Address\";}return\"Payment History\";};_this3.handleFormatCountries=function(countries){var keys=Object.keys(countries);return keys.map(function(k){return{key:k,text:countries[k],value:k};});};_this3.handleDeleteAddress=function(addressID){authAxios.delete(addressDeleteURL(addressID)).then(function(res){_this3.handleCallback();}).catch(function(err){_this3.setState({error:err});});};_this3.handleSelectAddress=function(address){_this3.setState({selectedAddress:address});};_this3.handleFetchUserID=function(){authAxios.get(userIDURL).then(function(res){_this3.setState({userID:res.data.userID});}).catch(function(err){_this3.setState({error:err});});};_this3.handleFetchCountries=function(){authAxios.get(countryListURL).then(function(res){_this3.setState({countries:_this3.handleFormatCountries(res.data)});}).catch(function(err){_this3.setState({error:err});});};_this3.handleFetchAddresses=function(){_this3.setState({loading:true});var activeItem=_this3.state.activeItem;authAxios.get(addressListURL(activeItem===\"shippingAddress\"?\"S\":\"S\")).then(function(res){_this3.setState({addresses:res.data,loading:false});}).catch(function(err){_this3.setState({error:err});});};_this3.handleCallback=function(){_this3.handleFetchAddresses();_this3.setState({selectedAddress:null});};_this3.renderAddresses=function(){var _this3$state=_this3.state,activeItem=_this3$state.activeItem,addresses=_this3$state.addresses,countries=_this3$state.countries,selectedAddress=_this3$state.selectedAddress,userID=_this3$state.userID;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card.Group,null,addresses.map(function(a){return/*#__PURE__*/React.createElement(Card,{key:a.id},/*#__PURE__*/React.createElement(Card.Content,null,a.default&&/*#__PURE__*/React.createElement(Label,{as:\"a\",color:\"blue\",ribbon:\"right\"},\"Default\"),/*#__PURE__*/React.createElement(Card.Header,null,a.street_address,\", \",a.apartment_address),/*#__PURE__*/React.createElement(Card.Meta,null,a.country),/*#__PURE__*/React.createElement(Card.Description,null,a.zip)),/*#__PURE__*/React.createElement(Card.Content,{extra:true},/*#__PURE__*/React.createElement(Button,{color:\"yellow\",onClick:function onClick(){return _this3.handleSelectAddress(a);}},\"Update\"),/*#__PURE__*/React.createElement(Button,{color:\"red\",onClick:function onClick(){return _this3.handleDeleteAddress(a.id);}},\"Delete\")));})),addresses.length>0?/*#__PURE__*/React.createElement(Divider,null):null,selectedAddress===null?/*#__PURE__*/React.createElement(AddressForm,{activeItem:activeItem,countries:countries,formType:CREATE_FORM,userID:userID,callback:_this3.handleCallback}):null,selectedAddress&&/*#__PURE__*/React.createElement(AddressForm,{activeItem:activeItem,userID:userID,countries:countries,address:selectedAddress,formType:UPDATE_FORM,callback:_this3.handleCallback}));};return _this3;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){this.handleFetchAddresses();this.handleFetchCountries();this.handleFetchUserID();}},{key:\"render\",value:function render(){var _this4=this;var _this$state2=this.state,activeItem=_this$state2.activeItem,error=_this$state2.error,loading=_this$state2.loading;var isAuthenticated=this.props.isAuthenticated;if(!isAuthenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}return/*#__PURE__*/React.createElement(Grid,{container:true,columns:2,divided:true},/*#__PURE__*/React.createElement(Grid.Row,{columns:1},/*#__PURE__*/React.createElement(Grid.Column,null,error&&/*#__PURE__*/React.createElement(Message,{error:true,header:\"There was an error\",content:JSON.stringify(error)}),loading&&/*#__PURE__*/React.createElement(Segment,null,/*#__PURE__*/React.createElement(Dimmer,{active:true,inverted:true},/*#__PURE__*/React.createElement(Loader,{inverted:true},\"Loading\")),/*#__PURE__*/React.createElement(Image,{src:\"/images/wireframe/short-paragraph.png\"})))),/*#__PURE__*/React.createElement(Grid.Row,null,/*#__PURE__*/React.createElement(Grid.Column,{width:6},/*#__PURE__*/React.createElement(Menu,{pointing:true,vertical:true,fluid:true},/*#__PURE__*/React.createElement(Menu.Item,{name:\"Shipping Address\",active:activeItem===\"shippingAddress\",onClick:function onClick(){return _this4.handleItemClick(\"shippingAddress\");}}),/*#__PURE__*/React.createElement(Menu.Item,{name:\"Payment history\",active:activeItem===\"paymentHistory\",onClick:function onClick(){return _this4.handleItemClick(\"paymentHistory\");}}))),/*#__PURE__*/React.createElement(Grid.Column,{width:10},/*#__PURE__*/React.createElement(Header,null,this.handleGetActiveItem()),/*#__PURE__*/React.createElement(Divider,null),activeItem===\"paymentHistory\"?/*#__PURE__*/React.createElement(PaymentHistory,null):this.renderAddresses())));}}]);return Profile;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.token!==null};};export default connect(mapStateToProps)(Profile);","map":{"version":3,"sources":["C:/Users/nassi/Desktop/AS delivery/src/containers/Profile.js"],"names":["React","connect","Redirect","Button","Card","Dimmer","Divider","Form","Grid","Header","Image","Label","Loader","Menu","Message","Segment","Select","Table","countryListURL","addressListURL","addressCreateURL","addressUpdateURL","addressDeleteURL","userIDURL","paymentListURL","authAxios","UPDATE_FORM","CREATE_FORM","PaymentHistory","state","payments","handleFetchPayments","setState","loading","get","then","res","data","catch","err","error","map","p","id","amount","Date","timestamp","toUTCString","Component","AddressForm","formData","address_type","apartment_address","country","default","street_address","user","zip","saving","success","handleToggleDefault","updatedFormdata","handleChange","e","target","name","value","handleSelectChange","handleSubmit","preventDefault","formType","props","handleUpdateAddress","handleCreateAddress","userID","activeItem","post","callback","put","address","countries","length","JSON","stringify","Profile","addresses","selectedAddress","handleItemClick","handleFetchAddresses","handleGetActiveItem","handleFormatCountries","keys","Object","k","key","text","handleDeleteAddress","addressID","delete","handleCallback","handleSelectAddress","handleFetchUserID","handleFetchCountries","renderAddresses","a","isAuthenticated","mapStateToProps","auth","token"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  Button,\n  Card,\n  Dimmer,\n  Divider,\n  Form,\n  Grid,\n  Header,\n  Image,\n  Label,\n  Loader,\n  Menu,\n  Message,\n  Segment,\n  Select,\n  Table\n} from \"semantic-ui-react\";\nimport {\n  countryListURL,\n  addressListURL,\n  addressCreateURL,\n  addressUpdateURL,\n  addressDeleteURL,\n  userIDURL,\n  paymentListURL\n} from \"../constants\";\nimport { authAxios } from \"../utils\";\n\nconst UPDATE_FORM = \"UPDATE_FORM\";\nconst CREATE_FORM = \"CREATE_FORM\";\n\nclass PaymentHistory extends React.Component {\n  state = {\n    payments: []\n  };\n\n  componentDidMount() {\n    this.handleFetchPayments();\n  }\n\n  handleFetchPayments = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(paymentListURL)\n      .then(res => {\n        this.setState({\n          loading: false,\n          payments: res.data\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  render() {\n    const { payments } = this.state;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Amount</Table.HeaderCell>\n            <Table.HeaderCell>Date</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {payments.map(p => {\n            return (\n              <Table.Row key={p.id}>\n                <Table.Cell>{p.id}</Table.Cell>\n                <Table.Cell>â‚¸{p.amount}</Table.Cell>\n                <Table.Cell>{new Date(p.timestamp).toUTCString()}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nclass AddressForm extends React.Component {\n  state = {\n    error: null,\n    loading: false,\n    formData: {\n      address_type: \"\",\n      apartment_address: \"\",\n      country: \"\",\n      default: false,\n      id: \"\",\n      street_address: \"\",\n      user: 1,\n      zip: \"\"\n    },\n    saving: false,\n    success: false\n  };\n\n  componentDidMount() {\n    const { address, formType } = this.props;\n    if (formType === UPDATE_FORM) {\n      this.setState({ formData: address });\n    }\n  }\n\n  handleToggleDefault = () => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      default: !formData.default\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleChange = e => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [e.target.name]: e.target.value\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleSelectChange = (e, { name, value }) => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [name]: value\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleSubmit = e => {\n    this.setState({ saving: true });\n    e.preventDefault();\n    const { formType } = this.props;\n    if (formType === UPDATE_FORM) {\n      this.handleUpdateAddress();\n    } else {\n      this.handleCreateAddress();\n    }\n  };\n\n  handleCreateAddress = () => {\n    const { userID, activeItem } = this.props;\n    const { formData } = this.state;\n    authAxios\n      .post(addressCreateURL, {\n        ...formData,\n        user: userID,\n        address_type: activeItem === \"shippingAddress\" ? \"S\" : \"S\"\n      })\n      .then(res => {\n        this.setState({\n          saving: false,\n          success: true,\n          formData: { default: false }\n        });\n        this.props.callback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleUpdateAddress = () => {\n    const { userID, activeItem } = this.props;\n    const { formData } = this.state;\n    authAxios\n      .put(addressUpdateURL(formData.id), {\n        ...formData,\n        user: userID,\n        address_type: activeItem === \"shippingAddress\" ? \"S\" : \"S\"\n      })\n      .then(res => {\n        this.setState({\n          saving: false,\n          success: true,\n          formData: { default: false }\n        });\n        this.props.callback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  render() {\n    const { countries } = this.props;\n    const { error, formData, success, saving } = this.state;\n    return (\n      <Form onSubmit={this.handleSubmit} success={success} error={error}>\n        <Form.Input\n          required\n          name=\"street_address\"\n          placeholder=\"Street address\"\n          onChange={this.handleChange}\n          value={formData.street_address}\n        />\n        <Form.Input\n          required\n          name=\"apartment_address\"\n          placeholder=\"Apartment address\"\n          onChange={this.handleChange}\n          value={formData.apartment_address}\n        />\n        <Form.Field required>\n          <Select\n            loading={countries.length < 1}\n            fluid\n            clearable\n            search\n            options={countries}\n            name=\"country\"\n            placeholder=\"Country\"\n            onChange={this.handleSelectChange}\n            value={formData.country}\n          />\n        </Form.Field>\n        <Form.Input\n          required\n          name=\"zip\"\n          placeholder=\"Zip code\"\n          onChange={this.handleChange}\n          value={formData.zip}\n        />\n        <Form.Checkbox\n          name=\"default\"\n          label=\"Make this the default address?\"\n          onChange={this.handleToggleDefault}\n          checked={formData.default}\n        />\n        {success && (\n          <Message success header=\"Success!\" content=\"Your address was saved\" />\n        )}\n        {error && (\n          <Message\n            error\n            header=\"There was an error\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        <Form.Button disabled={saving} loading={saving} primary>\n          Save\n        </Form.Button>\n      </Form>\n    );\n  }\n}\n\nclass Profile extends React.Component {\n  state = {\n    activeItem: \"shippingAddress\",\n    addresses: [],\n    countries: [],\n    userID: null,\n    selectedAddress: null\n  };\n\n  componentDidMount() {\n    this.handleFetchAddresses();\n    this.handleFetchCountries();\n    this.handleFetchUserID();\n  }\n\n  handleItemClick = name => {\n    this.setState({ activeItem: name }, () => {\n      this.handleFetchAddresses();\n    });\n  };\n\n  handleGetActiveItem = () => {\n    const { activeItem } = this.state;\n    if (activeItem === \"shippingAddress\") {\n      return \"Shipping Address\";\n    }\n    return \"Payment History\";\n  };\n\n  handleFormatCountries = countries => {\n    const keys = Object.keys(countries);\n    return keys.map(k => {\n      return {\n        key: k,\n        text: countries[k],\n        value: k\n      };\n    });\n  };\n\n  handleDeleteAddress = addressID => {\n    authAxios\n      .delete(addressDeleteURL(addressID))\n      .then(res => {\n        this.handleCallback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleSelectAddress = address => {\n    this.setState({ selectedAddress: address });\n  };\n\n  handleFetchUserID = () => {\n    authAxios\n      .get(userIDURL)\n      .then(res => {\n        this.setState({ userID: res.data.userID });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleFetchCountries = () => {\n    authAxios\n      .get(countryListURL)\n      .then(res => {\n        this.setState({ countries: this.handleFormatCountries(res.data) });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleFetchAddresses = () => {\n    this.setState({ loading: true });\n    const { activeItem } = this.state;\n    authAxios\n      .get(addressListURL(activeItem === \"shippingAddress\" ? \"S\" : \"S\"))\n      .then(res => {\n        this.setState({ addresses: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleCallback = () => {\n    this.handleFetchAddresses();\n    this.setState({ selectedAddress: null });\n  };\n\n  renderAddresses = () => {\n    const {\n      activeItem,\n      addresses,\n      countries,\n      selectedAddress,\n      userID\n    } = this.state;\n    return (\n      <React.Fragment>\n        <Card.Group>\n          {addresses.map(a => {\n            return (\n              <Card key={a.id}>\n                <Card.Content>\n                  {a.default && (\n                    <Label as=\"a\" color=\"blue\" ribbon=\"right\">\n                      Default\n                    </Label>\n                  )}\n                  <Card.Header>\n                    {a.street_address}, {a.apartment_address}\n                  </Card.Header>\n                  <Card.Meta>{a.country}</Card.Meta>\n                  <Card.Description>{a.zip}</Card.Description>\n                </Card.Content>\n                <Card.Content extra>\n                  <Button\n                    color=\"yellow\"\n                    onClick={() => this.handleSelectAddress(a)}\n                  >\n                    Update\n                  </Button>\n                  <Button\n                    color=\"red\"\n                    onClick={() => this.handleDeleteAddress(a.id)}\n                  >\n                    Delete\n                  </Button>\n                </Card.Content>\n              </Card>\n            );\n          })}\n        </Card.Group>\n        {addresses.length > 0 ? <Divider /> : null}\n        {selectedAddress === null ? (\n          <AddressForm\n            activeItem={activeItem}\n            countries={countries}\n            formType={CREATE_FORM}\n            userID={userID}\n            callback={this.handleCallback}\n          />\n        ) : null}\n        {selectedAddress && (\n          <AddressForm\n            activeItem={activeItem}\n            userID={userID}\n            countries={countries}\n            address={selectedAddress}\n            formType={UPDATE_FORM}\n            callback={this.handleCallback}\n          />\n        )}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { activeItem, error, loading } = this.state;\n    const { isAuthenticated } = this.props;\n    if (!isAuthenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <Grid container columns={2} divided>\n        <Grid.Row columns={1}>\n          <Grid.Column>\n            {error && (\n              <Message\n                error\n                header=\"There was an error\"\n                content={JSON.stringify(error)}\n              />\n            )}\n            {loading && (\n              <Segment>\n                <Dimmer active inverted>\n                  <Loader inverted>Loading</Loader>\n                </Dimmer>\n                <Image src=\"/images/wireframe/short-paragraph.png\" />\n              </Segment>\n            )}\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <Grid.Column width={6}>\n            <Menu pointing vertical fluid>\n              <Menu.Item\n                name=\"Shipping Address\"\n                active={activeItem === \"shippingAddress\"}\n                onClick={() => this.handleItemClick(\"shippingAddress\")}\n              />\n              <Menu.Item\n                name=\"Payment history\"\n                active={activeItem === \"paymentHistory\"}\n                onClick={() => this.handleItemClick(\"paymentHistory\")}\n              />\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={10}>\n            <Header>{this.handleGetActiveItem()}</Header>\n            <Divider />\n            {activeItem === \"paymentHistory\" ? (\n              <PaymentHistory />\n            ) : (\n              this.renderAddresses()\n            )}\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}