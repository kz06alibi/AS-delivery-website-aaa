{"version":3,"sources":["hoc/hoc.js","store/actions/auth.js","store/actions/actionTypes.js","containers/Login.js","containers/Signup.js","containers/Home.js","constants.js","utils.js","store/actions/cart.js","containers/ProductList.js","containers/ProductDetail.js","containers/OrderSummary.js","containers/Checkout.js","containers/Profile.js","routes.js","containers/Layout.js","App.js","registerServiceWorker.js","store/utility.js","store/reducers/auth.js","store/reducers/cart.js","index.js"],"names":["Hoc","props","children","authSuccess","token","type","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","LoginForm","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","login","this","loading","to","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","color","message","Fragment","Form","size","onSubmit","Segment","stacked","Input","onChange","fluid","icon","iconPosition","placeholder","Button","disabled","Message","React","Component","connect","auth","axios","post","then","res","data","key","expirationDate","Date","getTime","setItem","catch","err","authLogin","RegistrationForm","email","password1","password2","signup","authSignup","getWidth","window","Responsive","onlyTablet","minWidth","innerWidth","HomepageHeading","mobile","Container","text","content","inverted","fontSize","fontWeight","marginBottom","marginTop","primary","Icon","DesktopContainer","hideFixedMenu","fixed","showFixedMenu","Visibility","once","onBottomPassed","onBottomPassedReverse","minHeight","padding","backgroundImage","backgroundSize","vertical","ResponsiveContainer","HomepageLayout","container","stackable","Row","width","floated","Image","bordered","rounded","src","endpoint","productListURL","productDetailURL","id","addToCartURL","orderSummaryURL","checkoutURL","addCouponURL","countryListURL","userIDURL","addressListURL","addressType","addressCreateURL","addressUpdateURL","addressDeleteURL","orderItemDeleteURL","orderItemUpdateQuantityURL","paymentListURL","authAxios","create","baseURL","headers","Authorization","getItem","fetchCart","get","ProductList","handleAddToCart","slug","refreshCart","header","JSON","stringify","Dimmer","active","Loader","Item","Group","divided","map","item","image","Price","price","Content","onClick","history","push","title","Meta","className","category","Description","description","Label","tag","discount_price","ProductDetail","formVisible","formData","handleToggleForm","handleFetchItem","params","match","productID","handleFormatData","Object","keys","variations","updatedFormData","columns","Card","meta","extra","labelPosition","Divider","v","toLowerCase","Field","Select","selection","options","item_variations","iv","attachment","withRouter","OrderSummary","handleFetchOrder","response","status","renderVariations","orderItem","forEach","variation","itemVariations","handleRemoveQuantityFromCart","handleRemoveItem","itemID","delete","isAuthenticated","console","log","Table","celled","HeaderCell","Body","order_items","i","Cell","float","cursor","quantity","ribbon","final_price","colSpan","total","Footer","OrderPreview","relaxed","Extra","coupon","marginLeft","code","amount","CouponForm","handleAddCoupon","CheckoutForm","success","shippingAddresses","selectedShippingAddress","handleGetDefaultAddress","addresses","filteredAddresses","filter","el","default","length","handleFetchShippingAddresses","a","street_address","apartment_address","country","handleSelectChange","submit","ev","stripe","createToken","result","stripeToken","clearable","positive","InjectedForm","injectStripe","WrappedForm","apiKey","PaymentHistory","payments","handleFetchPayments","p","timestamp","toUTCString","AddressForm","address_type","user","zip","saving","handleToggleDefault","updatedFormdata","formType","handleUpdateAddress","handleCreateAddress","userID","activeItem","callback","put","address","countries","required","search","Checkbox","label","checked","Profile","selectedAddress","handleItemClick","handleFetchAddresses","handleGetActiveItem","handleFormatCountries","k","handleDeleteAddress","addressID","handleCallback","handleSelectAddress","handleFetchUserID","handleFetchCountries","renderAddresses","Menu","pointing","BaseRouter","exact","path","component","Login","Signup","Checkout","CustomLayout","authenticated","cart","position","Dropdown","order_item","margin","shoppingCart","App","onTryAutoSignup","undefined","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","reducer","cartStart","cartSuccess","cartFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","cartReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"sRAEeA,EAFH,SAAAC,GAAK,OAAIA,EAAMC,U,+ECSdC,EAAc,SAAAC,GACzB,MAAO,CACLC,KCVwB,eDWxBD,MAAOA,IAIEE,EAAW,SAAAC,GACtB,MAAO,CACLF,KChBqB,YDiBrBE,MAAOA,IAIEC,EAAS,WAGpB,OAFAC,aAAaC,WAAW,SACxBD,aAAaC,WAAW,kBACjB,CACLL,KCxBuB,gBD4BdM,EAAmB,SAAAC,GAC9B,OAAO,SAAAC,GACLC,YAAW,WACTD,EAASL,OACS,IAAjBI,KEtBDG,E,4MACJC,MAAQ,CACNC,SAAU,GACVC,SAAU,I,EAGZC,aAAe,SAAAC,GACb,EAAKC,SAAL,eAAiBD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,EAG5CC,aAAe,SAAAL,GACbA,EAAEM,iBADgB,MAEa,EAAKV,MAA5BC,EAFU,EAEVA,SAAUC,EAFA,EAEAA,SAClB,EAAKjB,MAAM0B,MAAMV,EAAUC,I,uDAGnB,IAAD,EAC2BU,KAAK3B,MAA/BM,EADD,EACCA,MAAOsB,EADR,EACQA,QAASzB,EADjB,EACiBA,MADjB,EAEwBwB,KAAKZ,MAA5BC,EAFD,EAECA,SAAUC,EAFX,EAEWA,SAClB,OAAId,EACK,kBAAC,IAAD,CAAU0B,GAAG,MAGpB,kBAACC,EAAA,EAAD,CACEC,UAAU,SACVC,MAAO,CAAEC,OAAQ,SACjBC,cAAc,UAEd,kBAACJ,EAAA,EAAKK,OAAN,CAAaH,MAAO,CAAEI,SAAU,MAC9B,kBAACC,EAAA,EAAD,CAAQC,GAAG,KAAKC,MAAM,OAAOR,UAAU,UAAvC,0BAGCzB,GAAS,2BAAIqB,KAAK3B,MAAMM,MAAMkC,SAE/B,kBAAC,IAAMC,SAAP,KACE,kBAACC,EAAA,EAAD,CAAMC,KAAK,QAAQC,SAAUjB,KAAKH,cAChC,kBAACqB,EAAA,EAAD,CAASC,SAAO,GACd,kBAACJ,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACfK,MAAOP,EACPM,KAAK,WACL2B,OAAK,EACLC,KAAK,OACLC,aAAa,OACbC,YAAY,aAEd,kBAACV,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACf+B,OAAK,EACL1B,MAAON,EACPK,KAAK,WACL4B,KAAK,OACLC,aAAa,OACbC,YAAY,WACZhD,KAAK,aAGP,kBAACiD,EAAA,EAAD,CACEd,MAAM,OACNU,OAAK,EACLN,KAAK,QACLf,QAASA,EACT0B,SAAU1B,GALZ,WAWJ,kBAAC2B,EAAA,EAAD,mBACa,kBAAC,IAAD,CAAS1B,GAAG,WAAZ,mB,GArED2B,IAAMC,WA4FfC,eAdS,SAAA3C,GACtB,MAAO,CACLa,QAASb,EAAM4C,KAAK/B,QACpBtB,MAAOS,EAAM4C,KAAKrD,MAClBH,MAAOY,EAAM4C,KAAKxD,UAIK,SAAAS,GACzB,MAAO,CACLc,MAAO,SAACV,EAAUC,GAAX,OAAwBL,EF9DV,SAACI,EAAUC,GAClC,OAAO,SAAAL,GACLA,EArCK,CACLR,KCLsB,eD0CtBwD,IACGC,KAAK,yCAA0C,CAC9C7C,SAAUA,EACVC,SAAUA,IAEX6C,MAAK,SAAAC,GACJ,IAAM5D,EAAQ4D,EAAIC,KAAKC,IACjBC,EAAiB,IAAIC,MAAK,IAAIA,MAAOC,UAAY,MACvD5D,aAAa6D,QAAQ,QAASlE,GAC9BK,aAAa6D,QAAQ,iBAAkBH,GACvCtD,EAASV,EAAYC,IACrBS,EAASF,EAAiB,UAE3B4D,OAAM,SAAAC,GACL3D,EAASP,EAASkE,QE6CkBC,CAAUxD,EAAUC,QAIjDyC,CAGb5C,GC/FI2D,E,4MACJ1D,MAAQ,CACNC,SAAU,GACV0D,MAAO,GACPC,UAAW,GACXC,UAAW,I,EAGbpD,aAAe,SAAAL,GACbA,EAAEM,iBADgB,MAEgC,EAAKV,MAA/CC,EAFU,EAEVA,SAAU0D,EAFA,EAEAA,MAAOC,EAFP,EAEOA,UAAWC,EAFlB,EAEkBA,UACpC,EAAK5E,MAAM6E,OAAO7D,EAAU0D,EAAOC,EAAWC,I,EAGhD1D,aAAe,SAAAC,GACb,EAAKC,SAAL,eAAiBD,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,S,uDAGlC,IAAD,EAC2CI,KAAKZ,MAA/CC,EADD,EACCA,SAAU0D,EADX,EACWA,MAAOC,EADlB,EACkBA,UAAWC,EAD7B,EAC6BA,UAD7B,EAE2BjD,KAAK3B,MAA/BM,EAFD,EAECA,MAAOsB,EAFR,EAEQA,QACf,OAHO,EAEiBzB,MAEf,kBAAC,IAAD,CAAU0B,GAAG,MAGpB,kBAACC,EAAA,EAAD,CACEC,UAAU,SACVC,MAAO,CAAEC,OAAQ,SACjBC,cAAc,UAEd,kBAACJ,EAAA,EAAKK,OAAN,CAAaH,MAAO,CAAEI,SAAU,MAC9B,kBAACC,EAAA,EAAD,CAAQC,GAAG,KAAKC,MAAM,OAAOR,UAAU,UAAvC,0BAGCzB,GAAS,2BAAIqB,KAAK3B,MAAMM,MAAMkC,SAE/B,kBAAC,IAAMC,SAAP,KACE,kBAACC,EAAA,EAAD,CAAMC,KAAK,QAAQC,SAAUjB,KAAKH,cAChC,kBAACqB,EAAA,EAAD,CAASC,SAAO,GACd,kBAACJ,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACfK,MAAOP,EACPM,KAAK,WACL2B,OAAK,EACLC,KAAK,OACLC,aAAa,OACbC,YAAY,aAEd,kBAACV,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACfK,MAAOmD,EACPpD,KAAK,QACL2B,OAAK,EACLC,KAAK,OACLC,aAAa,OACbC,YAAY,mBAEd,kBAACV,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACf+B,OAAK,EACL1B,MAAOoD,EACPrD,KAAK,YACL4B,KAAK,OACLC,aAAa,OACbC,YAAY,WACZhD,KAAK,aAEP,kBAACsC,EAAA,EAAKK,MAAN,CACEC,SAAUrB,KAAKT,aACf+B,OAAK,EACL1B,MAAOqD,EACPtD,KAAK,YACL4B,KAAK,OACLC,aAAa,OACbC,YAAY,mBACZhD,KAAK,aAGP,kBAACiD,EAAA,EAAD,CACEd,MAAM,OACNU,OAAK,EACLN,KAAK,QACLf,QAASA,EACT0B,SAAU1B,GALZ,YAWJ,kBAAC2B,EAAA,EAAD,iCAC2B,kBAAC,IAAD,CAAS1B,GAAG,UAAZ,iB,GA1FR2B,IAAMC,WAkHtBC,eAfS,SAAA3C,GACtB,MAAO,CACLa,QAASb,EAAM4C,KAAK/B,QACpBtB,MAAOS,EAAM4C,KAAKrD,MAClBH,MAAOY,EAAM4C,KAAKxD,UAIK,SAAAS,GACzB,MAAO,CACLiE,OAAQ,SAAC7D,EAAU0D,EAAOC,EAAWC,GAA7B,OACNhE,EH9DoB,SAACI,EAAU0D,EAAOC,EAAWC,GACrD,OAAO,SAAAhE,GACLA,EA3DK,CACLR,KCLsB,eDgEtBwD,IACGC,KAAK,gDAAiD,CACrD7C,SAAUA,EACV0D,MAAOA,EACPC,UAAWA,EACXC,UAAWA,IAEZd,MAAK,SAAAC,GACJ,IAAM5D,EAAQ4D,EAAIC,KAAKC,IACjBC,EAAiB,IAAIC,MAAK,IAAIA,MAAOC,UAAY,MACvD5D,aAAa6D,QAAQ,QAASlE,GAC9BK,aAAa6D,QAAQ,iBAAkBH,GACvCtD,EAASV,EAAYC,IACrBS,EAASF,EAAiB,UAE3B4D,OAAM,SAAAC,GACL3D,EAASP,EAASkE,QG2CXO,CAAW9D,EAAU0D,EAAOC,EAAWC,QAIvClB,CAGbe,G,4CC5GIM,EAAW,WAGf,MAFgC,qBAAXC,OAENC,IAAWC,WAAWC,SAAWH,OAAOI,YAWnDC,EAAkB,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OACtB,kBAACC,EAAA,EAAD,CAAWC,MAAI,GACb,kBAACnD,EAAA,EAAD,CACEC,GAAG,KACHmD,QAAQ,cACRC,UAAQ,EACR1D,MAAO,CAEL2D,SAAUL,EAAS,MAAQ,MAC3BM,WAAY,SACZC,aAAc,EACdC,UAAWR,EAAS,QAAU,WAGlC,kBAACjD,EAAA,EAAD,CACEC,GAAG,KACHmD,QAAQ,iBACRC,UAAQ,EACR1D,MAAO,CACL2D,SAAUL,EAAS,MAAQ,QAC3BM,WAAY,SACZE,UAAWR,EAAS,QAAU,WAGlC,kBAAC,IAAD,CAAMzD,GAAG,aACT,kBAACwB,EAAA,EAAD,CAAQ0C,SAAO,EAACpD,KAAK,QAArB,YAEE,kBAACqD,EAAA,EAAD,CAAM1E,KAAK,aAiBX2E,E,4MACJlF,MAAQ,G,EAERmF,cAAgB,kBAAM,EAAK9E,SAAS,CAAE+E,OAAO,K,EAC7CC,cAAgB,kBAAM,EAAKhF,SAAS,CAAE+E,OAAO,K,uDAEnC,IACAlG,EAAa0B,KAAK3B,MAAlBC,SACU0B,KAAKZ,MAAfoF,MAER,OACE,kBAAClB,EAAA,EAAD,CAAYF,SAAUA,EAAUI,SAAUF,IAAWC,WAAWC,UAC9D,kBAACkB,EAAA,EAAD,CACEC,MAAM,EACNC,eAAgB5E,KAAKyE,cACrBI,sBAAuB7E,KAAKuE,eAE9B,kBAACrD,EAAA,EAAD,CACU6C,UAAQ,EACR3D,UAAU,SACVC,MAAO,CAAEyE,UAAW,IAAKC,QAAS,UAAmBC,gBAAgB,OAAD,OAAS,0DAAT,KAC5DC,eAAgB,SACxBC,UAAQ,GAIR,kBAAC,EAAD,QAKT5G,O,GA/BsBwD,aA8CzBqD,EAAsB,SAAC,GAAD,IAAG7G,EAAH,EAAGA,SAAH,OAC1B,6BACE,kBAAC,EAAD,KAAmBA,KAmER8G,EA3DQ,kBACrB,kBAAC,EAAD,KACE,kBAAClE,EAAA,EAAD,CAASb,MAAO,CAAE0E,QAAS,WAAaG,UAAQ,GAC9C,kBAAC/E,EAAA,EAAD,CAAMkF,WAAS,EAACC,WAAS,EAAC/E,cAAc,UACtC,kBAACJ,EAAA,EAAKoF,IAAN,KACE,kBAACpF,EAAA,EAAKK,OAAN,CAAagF,MAAO,GAClB,kBAAC9E,EAAA,EAAD,CAAQC,GAAG,KAAKN,MAAO,CAAE2D,SAAU,QAAnC,2CAGA,uBAAG3D,MAAO,CAAE2D,SAAU,QAAtB,kIAMF,kBAAC7D,EAAA,EAAKK,OAAN,CAAaiF,QAAQ,QAAQD,MAAO,GAClC,kBAACE,EAAA,EAAD,CAAOC,UAAQ,EAACC,SAAO,EAAC5E,KAAK,OAAO6E,IAAI,sMAM5C,kBAAC1F,EAAA,EAAKoF,IAAN,KACA,kBAACpF,EAAA,EAAKK,OAAN,CAAaiF,QAAQ,QAAQD,MAAO,GAClC,kBAACE,EAAA,EAAD,CAAOC,UAAQ,EAACC,SAAO,EAAC5E,KAAK,OAAO6E,IAAI,kFAExC,kBAAC1F,EAAA,EAAKK,OAAN,CAAagF,MAAO,GACpB,kBAAC9E,EAAA,EAAD,CAAQC,GAAG,KAAKN,MAAO,CAAE2D,SAAU,QAAnC,oCAIA,uBAAG3D,MAAO,CAAE2D,SAAU,QAAtB,sIAYN,kBAAC9C,EAAA,EAAD,CAASb,MAAO,CAAE0E,QAAS,WAAaG,UAAQ,GAC9C,kBAACtB,EAAA,EAAD,CAAWC,MAAI,GACb,kBAACnD,EAAA,EAAD,CAAQC,GAAG,KAAKN,MAAO,CAAE2D,SAAU,QAAnC,YAGA,uBAAG3D,MAAO,CAAE2D,SAAU,QAAtB,+M,mCCpLK8B,EAAQ,UAJH,yBAIG,OAFN,QAIFC,EAAc,UAAMD,EAAN,cACdE,EAAmB,SAAAC,GAAE,gBAAOH,EAAP,qBAA4BG,EAA5B,MACrBC,EAAY,UAAMJ,EAAN,iBACZK,EAAe,UAAML,EAAN,mBACfM,EAAW,UAAMN,EAAN,cACXO,EAAY,UAAMP,EAAN,gBACZQ,EAAc,UAAMR,EAAN,eACdS,GAAS,UAAMT,EAAN,aACTU,GAAiB,SAAAC,GAAW,gBACpCX,EADoC,oCACAW,IAC5BC,GAAgB,UAAMZ,EAAN,sBAChBa,GAAmB,SAAAV,GAAE,gBAAOH,EAAP,sBAA6BG,EAA7B,aACrBW,GAAmB,SAAAX,GAAE,gBAAOH,EAAP,sBAA6BG,EAA7B,aACrBY,GAAqB,SAAAZ,GAAE,gBAAOH,EAAP,wBAA+BG,EAA/B,aACvBa,GAA0B,UAAMhB,EAAN,gCAC1BiB,GAAc,UAAMjB,EAAN,cClBdkB,GAAY/E,IAAMgF,OAAO,CACpCC,QAASpB,EACTqB,QAAS,CACPC,cAAc,SAAD,OAAWvI,aAAawI,QAAQ,aCkBpCC,GAAY,WACvB,OAAO,SAAArI,GACLA,EArBK,CACLR,KNDsB,eMsBtBuI,GACGO,IAAIpB,GACJhE,MAAK,SAAAC,GACJnD,EAnBC,CACLR,KNNwB,eMOxB4D,KAiByBD,EAAIC,UAE1BM,OAAM,SAAAC,GACL3D,EAfC,CACLR,KNZqB,YMarBE,MAasBiE,SCfpB4E,G,4MACJpI,MAAQ,CACNa,SAAS,EACTtB,MAAO,KACP0D,KAAM,I,EAeRoF,gBAAkB,SAAAC,GAChB,EAAKjI,SAAS,CAAEQ,SAAS,IACzB+G,GACG9E,KAAKgE,EAAc,CAAEwB,SACrBvF,MAAK,SAAAC,GACJ,EAAK/D,MAAMsJ,cACX,EAAKlI,SAAS,CAAEQ,SAAS,OAE1B0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,kEArBtB,IAAD,OAClBD,KAAKP,SAAS,CAAEQ,SAAS,IACzBgC,IACGsF,IAAIxB,GACJ5D,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAE4C,KAAMD,EAAIC,KAAMpC,SAAS,OAE1C0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,S,+BAiBjC,IAAD,SAC0BD,KAAKZ,MAA9BiD,EADD,EACCA,KAAM1D,EADP,EACOA,MAAOsB,EADd,EACcA,QACrB,OACE,kBAAC2D,EAAA,EAAD,KACGjF,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,6CACP9D,QAAS+D,KAAKC,UAAUnJ,KAG3BsB,GACC,kBAACiB,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CAAQC,QAAM,EAACjE,UAAQ,GACrB,kBAACkE,EAAA,EAAD,CAAQlE,UAAQ,GAAhB,YAGF,kBAAC2B,EAAA,EAAD,CAAOG,IAAI,2CAGf,kBAACqC,EAAA,EAAKC,MAAN,CAAYC,SAAO,GAChB/F,EAAKgG,KAAI,SAAAC,GACR,OACE,kBAACJ,EAAA,EAAD,CAAM5F,IAAKgG,EAAKrC,IAChB,kBAACiC,EAAA,EAAKxC,MAAN,CAAYG,IAAKyC,EAAKC,QADtB,8LAEA,kBAACL,EAAA,EAAD,CAAMM,MAAOF,EAAKG,QAChB,kBAACP,EAAA,EAAKQ,QAAN,KACA,6BACE,kBAACR,EAAA,EAAKxH,OAAN,CACEC,GAAG,IACHgI,QAAS,kBACP,EAAKtK,MAAMuK,QAAQC,KAAnB,oBAAqCP,EAAKrC,OAG3CqC,EAAKQ,OAIR,kBAACZ,EAAA,EAAKa,KAAN,KACE,0BAAMC,UAAU,UAAUV,EAAKW,WAEjC,kBAACf,EAAA,EAAKgB,YAAN,KAAmBZ,EAAKa,aACxB,2BAAG,sCAAOb,EAAKG,QACf,kBAACW,EAAA,EAAD,CAAOzI,GAAG,IAAIC,MAAM,MAAMyI,KAAG,GAA7B,UAAiCf,EAAKgB,eAAtC,gB,GA3EQzH,IAAMC,WA4FjBC,eACb,MAPyB,SAAA9C,GACzB,MAAO,CACL0I,YAAa,kBAAM1I,EAASqI,UAIjBvF,CAGbyF,I,uCCvFI+B,G,4MACJnK,MAAQ,CACNa,SAAS,EACTtB,MAAO,KACP6K,aAAa,EACbnH,KAAM,GACNoH,SAAU,I,EAOZC,iBAAmB,WAAO,IAChBF,EAAgB,EAAKpK,MAArBoK,YACR,EAAK/J,SAAS,CACZ+J,aAAcA,K,EAIlBG,gBAAkB,WAAO,IAEZC,EACP,EAAKvL,MADPwL,MAASD,OAEX,EAAKnK,SAAS,CAAEQ,SAAS,IACzBgC,IACGsF,IAAIvB,EAAiB4D,EAAOE,YAC5B3H,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAE4C,KAAMD,EAAIC,KAAMpC,SAAS,OAE1C0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAI3C8J,iBAAmB,SAAAN,GACjB,OAAOO,OAAOC,KAAKR,GAAUpB,KAAI,SAAA/F,GAC/B,OAAOmH,EAASnH,O,EAIpBmF,gBAAkB,SAAAC,GAChB,EAAKjI,SAAS,CAAEQ,SAAS,IADD,IAEhBwJ,EAAa,EAAKrK,MAAlBqK,SACFS,EAAa,EAAKH,iBAAiBN,GACzCzC,GACG9E,KAAKgE,EAAc,CAAEwB,OAAMwC,eAC3B/H,MAAK,SAAAC,GACJ,EAAK/D,MAAMsJ,cACX,EAAKlI,SAAS,CAAEQ,SAAS,OAE1B0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAI3CV,aAAe,SAACC,EAAD,GAAyB,IAAnBG,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MACjB6J,EAAa,EAAKrK,MAAlBqK,SACFU,EAAe,6BAChBV,GADgB,kBAElB9J,EAAOC,IAEV,EAAKH,SAAS,CAAEgK,SAAUU,K,kEApD1BnK,KAAK2J,oB,+BAuDG,IAAD,SACiD3J,KAAKZ,MAArDiD,EADD,EACCA,KAAM1D,EADP,EACOA,MAAO8K,EADd,EACcA,SAAUD,EADxB,EACwBA,YAAavJ,EADrC,EACqCA,QACtCqI,EAAOjG,EACb,OACE,kBAACuB,EAAA,EAAD,KACGjF,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,6CACP9D,QAAS+D,KAAKC,UAAUnJ,KAG3BsB,GACC,kBAACiB,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CAAQC,QAAM,EAACjE,UAAQ,GACrB,kBAACkE,EAAA,EAAD,CAAQlE,UAAQ,GAAhB,YAEF,kBAAC2B,EAAA,EAAD,CAAOG,IAAI,2CAGf,kBAAC1F,EAAA,EAAD,CAAMiK,QAAS,EAAGhC,SAAO,GACvB,kBAACjI,EAAA,EAAKoF,IAAN,KACE,kBAACpF,EAAA,EAAKK,OAAN,KACE,kBAAC6J,GAAA,EAAD,CACE/I,OAAK,EACLiH,MAAOD,EAAKC,MACZX,OAAQU,EAAKW,SACbqB,KACE,kBAAC,IAAMxJ,SAAP,KACGwH,EAAKQ,MADR,yFAGE,kBAACM,EAAA,EAAD,CAAOzI,GAAG,IAAIC,MAAM,MAAMyI,KAAG,GAA7B,UAAiCf,EAAKgB,iBAG1CH,YAAab,EAAKa,YAClBoB,MACE,kBAAC,IAAMzJ,SAAP,KACE,kBAACY,EAAA,EAAD,CACEJ,OAAK,EACLV,MAAM,SACN6E,QAAQ,QACRlE,MAAI,EACJiJ,cAAc,QACd7B,QAAS3I,KAAK0J,kBANhB,cASE,kBAACrF,EAAA,EAAD,CAAM1E,KAAK,kBAKlB6J,GACC,kBAAC,IAAM1I,SAAP,KACE,kBAAC2J,GAAA,EAAD,MACA,kBAAC1J,EAAA,EAAD,CAAME,SAAU,kBAAM,EAAKwG,gBAAgBa,EAAKZ,QAC7CrF,EAAK6H,WAAW7B,KAAI,SAAAqC,GACnB,IAAM/K,EAAO+K,EAAE/K,KAAKgL,cACpB,OACE,kBAAC5J,EAAA,EAAK6J,MAAN,CAAYtI,IAAKoI,EAAEzE,IACjB,kBAAC4E,GAAA,EAAD,CACElL,KAAMA,EACN0B,SAAU,EAAK9B,aACfkC,YAAW,mBAAc9B,GACzB2B,OAAK,EACLwJ,WAAS,EACTC,QAASL,EAAEM,gBAAgB3C,KAAI,SAAAC,GAC7B,MAAO,CACLhG,IAAKgG,EAAKrC,GACVpC,KAAMyE,EAAK1I,MACXA,MAAO0I,EAAKrC,OAGhBrG,MAAO6J,EAAS9J,SAKxB,kBAACoB,EAAA,EAAKW,OAAN,CAAa0C,SAAO,GAApB,UAKR,kBAACjE,EAAA,EAAKK,OAAN,KACE,kBAACE,EAAA,EAAD,CAAQC,GAAG,MAAX,4BACC0B,EAAK6H,YACJ7H,EAAK6H,WAAW7B,KAAI,SAAAqC,GAClB,OACE,kBAAC,IAAM5J,SAAP,CAAgBwB,IAAKoI,EAAEzE,IACrB,kBAACvF,EAAA,EAAD,CAAQC,GAAG,MAAM+J,EAAE/K,MACnB,kBAACuI,EAAA,EAAKC,MAAN,CAAYC,SAAO,GAChBsC,EAAEM,gBAAgB3C,KAAI,SAAA4C,GACrB,OACE,kBAAC/C,EAAA,EAAD,CAAM5F,IAAK2I,EAAGhF,IACXgF,EAAGC,YACF,kBAAChD,EAAA,EAAKxC,MAAN,CACE1E,KAAK,OACL6E,IAAG,+BAA0BoF,EAAGC,cAGpC,kBAAChD,EAAA,EAAKQ,QAAN,CAAcnI,cAAc,UACzB0K,EAAGrL,wB,GArKRiC,IAAMC,WA4LnBqJ,eACbpJ,YACE,MARuB,SAAA9C,GACzB,MAAO,CACL0I,YAAa,kBAAM1I,EAASqI,UAK9BvF,CAGEwH,K,UClME6B,G,4MACJhM,MAAQ,CACNiD,KAAM,KACN1D,MAAO,KACPsB,SAAS,G,EAOXoL,iBAAmB,WACjB,EAAK5L,SAAS,CAAEQ,SAAS,IACzB+G,GACGO,IAAIpB,GACJhE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAE4C,KAAMD,EAAIC,KAAMpC,SAAS,OAE1C0C,OAAM,SAAAC,GACuB,MAAxBA,EAAI0I,SAASC,OACf,EAAK9L,SAAS,CACZd,MAAO,qCACPsB,SAAS,IAGX,EAAKR,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAK7CuL,iBAAmB,SAAAC,GACjB,IAAI5H,EAAO,GAIX,OAHA4H,EAAUT,gBAAgBU,SAAQ,SAAAT,GAChCpH,GAAI,UAAOoH,EAAGU,UAAUhM,KAApB,aAA6BsL,EAAGrL,MAAhC,SAECiE,G,EAGTkG,iBAAmB,SAAA6B,GAEjB,OAAO5B,OAAOC,KAAK2B,GAAgBvD,KAAI,SAAA/F,GACrC,OAAOsJ,EAAetJ,GAAK2D,O,EAI/BwB,gBAAkB,SAACC,EAAMkE,GACvB,EAAKnM,SAAS,CAAEQ,SAAS,IACzB,IAAMiK,EAAa,EAAKH,iBAAiB6B,GACzC5E,GACG9E,KAAKgE,EAAc,CAAEwB,OAAMwC,eAC3B/H,MAAK,SAAAC,GACJ,EAAKiJ,mBACL,EAAK5L,SAAS,CAAEQ,SAAS,OAE1B0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAI3C4L,6BAA+B,SAAAnE,GAC7BV,GACG9E,KAAK4E,GAA4B,CAAEY,SACnCvF,MAAK,SAAAC,GACJ,EAAKiJ,sBAEN1I,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7BkJ,iBAAmB,SAAAC,GACjB/E,GACGgF,OAAOnF,GAAmBkF,IAC1B5J,MAAK,SAAAC,GACJ,EAAKiJ,sBAEN1I,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,kEArE3B5C,KAAKqL,qB,+BAyEG,IAAD,SAC0BrL,KAAKZ,MAA9BiD,EADD,EACCA,KAAM1D,EADP,EACOA,MAAOsB,EADd,EACcA,QAErB,OAD4BD,KAAK3B,MAAzB4N,iBAIRC,QAAQC,IAAI9J,GAGV,kBAACuB,EAAA,EAAD,KACE,kBAAClD,EAAA,EAAD,sBACC/B,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,qBACP9D,QAAS+D,KAAKC,UAAUnJ,KAG3BsB,GACC,kBAACiB,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CAAQC,QAAM,EAACjE,UAAQ,GACrB,kBAACkE,EAAA,EAAD,CAAQlE,UAAQ,GAAhB,YAGF,kBAAC2B,EAAA,EAAD,CAAOG,IAAI,wEAGdxD,GACC,kBAAC+J,GAAA,EAAD,CAAOC,QAAM,GACX,kBAACD,GAAA,EAAM1L,OAAP,KACE,kBAAC0L,GAAA,EAAM7G,IAAP,KACE,kBAAC6G,GAAA,EAAME,WAAP,eACA,kBAACF,GAAA,EAAME,WAAP,kBACA,kBAACF,GAAA,EAAME,WAAP,mBACA,kBAACF,GAAA,EAAME,WAAP,sBACA,kBAACF,GAAA,EAAME,WAAP,2BAIJ,kBAACF,GAAA,EAAMG,KAAP,KACGlK,EAAKmK,YAAYnE,KAAI,SAACoD,EAAWgB,GAChC,OACE,kBAACL,GAAA,EAAM7G,IAAP,CAAWjD,IAAKmJ,EAAUxF,IACxB,kBAACmG,GAAA,EAAMM,KAAP,KAAaD,EAAI,GACjB,kBAACL,GAAA,EAAMM,KAAP,KACGjB,EAAUnD,KAAKQ,MADlB,KAC2B,IACxB,EAAK0C,iBAAiBC,IAEzB,kBAACW,GAAA,EAAMM,KAAP,cAAcjB,EAAUnD,KAAKG,OAC7B,kBAAC2D,GAAA,EAAMM,KAAP,CAAYtM,UAAU,UACpB,kBAACiE,EAAA,EAAD,CACE1E,KAAK,QACLU,MAAO,CAAEsM,MAAO,OAAQC,OAAQ,WAChCjE,QAAS,kBACP,EAAKkD,6BAA6BJ,EAAUnD,KAAKZ,SAGpD+D,EAAUoB,SACX,kBAACxI,EAAA,EAAD,CACE1E,KAAK,OACLU,MAAO,CAAEsM,MAAO,QAASC,OAAQ,WACjCjE,QAAS,kBACP,EAAKlB,gBACHgE,EAAUnD,KAAKZ,KACf+D,EAAUT,qBAKlB,kBAACoB,GAAA,EAAMM,KAAP,KACGjB,EAAUnD,KAAKgB,gBACd,kBAACF,EAAA,EAAD,CAAOxI,MAAM,QAAQkM,QAAM,GAA3B,eAFJ,SAMIrB,EAAUsB,YACZ,kBAAC1I,EAAA,EAAD,CACE1E,KAAK,QACLiB,MAAM,MACNP,MAAO,CAAEsM,MAAO,QAASC,OAAQ,WACjCjE,QAAS,kBAAM,EAAKmD,iBAAiBL,EAAUxF,YAMzD,kBAACmG,GAAA,EAAM7G,IAAP,KACE,kBAAC6G,GAAA,EAAMM,KAAP,MACA,kBAACN,GAAA,EAAMM,KAAP,MACA,kBAACN,GAAA,EAAMM,KAAP,MACA,kBAACN,GAAA,EAAMM,KAAP,CAAYtM,UAAU,QAAQ4M,QAAQ,KAAtC,sBACiB3K,EAAK4K,SAK1B,kBAACb,GAAA,EAAMc,OAAP,KACE,kBAACd,GAAA,EAAM7G,IAAP,KACE,kBAAC6G,GAAA,EAAME,WAAP,CAAkBU,QAAQ,KACxB,kBAAC,IAAD,CAAM9M,GAAG,aACP,kBAACwB,EAAA,EAAD,CAAQ+D,QAAQ,QAAQ7E,MAAM,UAA9B,mBAhGP,kBAAC,IAAD,CAAUV,GAAG,e,GArFC2B,IAAMC,WAyMlBC,gBANS,SAAA3C,GACtB,MAAO,CACL6M,gBAAsC,OAArB7M,EAAM4C,KAAKxD,SAIjBuD,CAAyBqJ,I,SCjMlC+B,GAAe,SAAA9O,GAAU,IACrBgE,EAAShE,EAATgE,KACR,OACE,kBAAC,IAAMvB,SAAP,KACGuB,GACC,kBAAC,IAAMvB,SAAP,KACE,kBAACoH,EAAA,EAAKC,MAAN,CAAYiF,SAAO,GAChB/K,EAAKmK,YAAYnE,KAAI,SAACoD,EAAWgB,GAChC,OACE,kBAACvE,EAAA,EAAD,CAAM5F,IAAKmK,GACT,kBAACvE,EAAA,EAAKxC,MAAN,CACE1E,KAAK,OACL6E,IAAG,+BAA0B4F,EAAUnD,KAAKC,SAE9C,kBAACL,EAAA,EAAKQ,QAAN,CAAcnI,cAAc,UAC1B,kBAAC2H,EAAA,EAAKxH,OAAN,CAAaC,GAAG,KACb8K,EAAUoB,SADb,MAC0BpB,EAAUnD,KAAKQ,OAEzC,kBAACZ,EAAA,EAAKmF,MAAN,KACE,kBAACjE,EAAA,EAAD,cAASqC,EAAUsB,oBAQ/B,kBAAC7E,EAAA,EAAKC,MAAN,KACE,kBAACD,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKQ,QAAN,KACE,kBAACR,EAAA,EAAKxH,OAAN,2BACiB2B,EAAK4K,MACnB5K,EAAKiL,QACJ,kBAAClE,EAAA,EAAD,CAAOxI,MAAM,QAAQP,MAAO,CAAEkN,WAAY,SAA1C,mBACmBlL,EAAKiL,OAAOE,KAD/B,SAEGnL,EAAKiL,OAAOG,eAa7BC,G,4MACJtO,MAAQ,CACNoO,KAAM,I,EAGRjO,aAAe,SAAAC,GACb,EAAKC,SAAS,CACZ+N,KAAMhO,EAAEE,OAAOE,S,EAInBC,aAAe,SAAAL,GAAM,IACXgO,EAAS,EAAKpO,MAAdoO,KACR,EAAKnP,MAAMsP,gBAAgBnO,EAAGgO,GAC9B,EAAK/N,SAAS,CAAE+N,KAAM,M,uDAGd,IACAA,EAASxN,KAAKZ,MAAdoO,KACR,OACE,kBAAC,IAAM1M,SAAP,KACE,kBAACC,EAAA,EAAD,CAAME,SAAUjB,KAAKH,cACnB,kBAACkB,EAAA,EAAK6J,MAAN,KACE,8CACA,2BACEnJ,YAAY,mBACZ7B,MAAO4N,EACPnM,SAAUrB,KAAKT,gBAGnB,kBAACmC,EAAA,EAAD,CAAQjD,KAAK,UAAb,gB,GA9BeqD,aAqCnB8L,G,4MACJxO,MAAQ,CACNiD,KAAM,KACNpC,SAAS,EACTtB,MAAO,KACPkP,SAAS,EACTC,kBAAmB,GACnBC,wBAAyB,I,EAQ3BC,wBAA0B,SAAAC,GACxB,IAAMC,EAAoBD,EAAUE,QAAO,SAAAC,GAAE,OAAmB,IAAfA,EAAGC,WACpD,OAAIH,EAAkBI,OAAS,EACtBJ,EAAkB,GAAGjI,GAEvB,I,EAGTsI,6BAA+B,WAC7B,EAAK9O,SAAS,CAAEQ,SAAS,IACzB+G,GACGO,IAAIf,GAAe,MACnBrE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CACZqO,kBAAmB1L,EAAIC,KAAKgG,KAAI,SAAAmG,GAC9B,MAAO,CACLlM,IAAKkM,EAAEvI,GACPpC,KAAK,GAAD,OAAK2K,EAAEC,eAAP,aAA0BD,EAAEE,kBAA5B,aAAkDF,EAAEG,SACxD/O,MAAO4O,EAAEvI,OAGb8H,wBAAyB,EAAKC,wBAAwB5L,EAAIC,MAC1DpC,SAAS,OAGZ0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAI3CoL,iBAAmB,WACjB,EAAK5L,SAAS,CAAEQ,SAAS,IACzB+G,GACGO,IAAIpB,GACJhE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAE4C,KAAMD,EAAIC,KAAMpC,SAAS,OAE1C0C,OAAM,SAAAC,GACuB,MAAxBA,EAAI0I,SAASC,OACf,EAAKlN,MAAMuK,QAAQC,KAAK,aAExB,EAAKpJ,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAK7C0N,gBAAkB,SAACnO,EAAGgO,GACpBhO,EAAEM,iBACF,EAAKL,SAAS,CAAEQ,SAAS,IACzB+G,GACG9E,KAAKmE,EAAc,CAAEmH,SACrBrL,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAEQ,SAAS,IACzB,EAAKoL,sBAEN1I,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,EAI3C2O,mBAAqB,SAACpP,EAAD,GAAyB,IAAnBG,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAC/B,EAAKH,SAAL,eAAiBE,EAAOC,K,EAG1BiP,OAAS,SAAAC,GACPA,EAAGhP,iBACH,EAAKL,SAAS,CAAEQ,SAAS,IACrB,EAAK5B,MAAM0Q,OACb,EAAK1Q,MAAM0Q,OAAOC,cAAc7M,MAAK,SAAA8M,GACnC,GAAIA,EAAOtQ,MACT,EAAKc,SAAS,CAAEd,MAAOsQ,EAAOtQ,MAAMkC,QAASZ,SAAS,QACjD,CACL,EAAKR,SAAS,CAAEd,MAAO,OADlB,IAGHoP,EACE,EAAK3O,MADP2O,wBAEF/G,GACG9E,KAAKkE,EAAa,CACjB8I,YAAaD,EAAOzQ,MAAMyH,GAC1B8H,4BAED5L,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAEQ,SAAS,EAAO4N,SAAS,OAE1ClL,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEQ,SAAS,EAAOtB,MAAOiE,WAK/CsJ,QAAQC,IAAI,yB,kEA9FdnM,KAAKqL,mBACLrL,KAAKuO,iC,+BAiGG,IAAD,SAQHvO,KAAKZ,MANPiD,EAFK,EAELA,KACA1D,EAHK,EAGLA,MACAsB,EAJK,EAILA,QACA4N,EALK,EAKLA,QACAC,EANK,EAMLA,kBACAC,EAPK,EAOLA,wBAGF,OACE,6BACGpP,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,6CACP9D,QAAS+D,KAAKC,UAAUnJ,KAG3BsB,GACC,kBAACiB,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CAAQC,QAAM,EAACjE,UAAQ,GACrB,kBAACkE,EAAA,EAAD,CAAQlE,UAAQ,GAAhB,YAEF,kBAAC2B,EAAA,EAAD,CAAOG,IAAI,2CAIf,kBAAC,GAAD,CAAcxD,KAAMA,IACpB,kBAACoI,GAAA,EAAD,MACA,kBAAC,GAAD,CACEkD,gBAAiB,SAACnO,EAAGgO,GAAJ,OAAa,EAAKG,gBAAgBnO,EAAGgO,MAExD,kBAAC/C,GAAA,EAAD,MAEA,kBAAC/J,EAAA,EAAD,kCACCoN,EAAkBQ,OAAS,EAC1B,kBAACzD,GAAA,EAAD,CACElL,KAAK,0BACLC,MAAOmO,EACPoB,WAAS,EACTpE,QAAS+C,EACThD,WAAS,EACTzJ,SAAUrB,KAAK4O,qBAGjB,0CACc,kBAAC,IAAD,CAAM1O,GAAG,YAAT,2BAGhB,kBAACuK,GAAA,EAAD,MAECqD,EAAkBQ,OAAS,EAC1B,8FAEA,kBAAC,IAAMxN,SAAP,KACE,kBAACJ,EAAA,EAAD,iDACA,kBAAC,eAAD,MACCmN,GACC,kBAACjM,EAAA,EAAD,CAASwN,UAAQ,GACf,kBAACxN,EAAA,EAAQlB,OAAT,oCACA,yCACa,sCADb,uCAKJ,kBAACgB,EAAA,EAAD,CACEzB,QAASA,EACT0B,SAAU1B,EACVmE,SAAO,EACPuE,QAAS3I,KAAK6O,OACdxO,MAAO,CAAE8D,UAAW,SALtB,gB,GA/KerC,aA+LrBuN,GAAelE,YAAWmE,wBAAa1B,KAe9B2B,GAbK,kBAClB,kBAAC3L,EAAA,EAAD,CAAWC,MAAI,GACb,kBAAC,kBAAD,CAAgB2L,OAAO,8CACrB,6BACE,mDACA,kBAAC,YAAD,KACE,kBAACH,GAAD,W,UC1RJI,G,4MACJrQ,MAAQ,CACNsQ,SAAU,I,EAOZC,oBAAsB,WACpB,EAAKlQ,SAAS,CAAEQ,SAAS,IACzB+G,GACGO,IAAIR,IACJ5E,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CACZQ,SAAS,EACTyP,SAAUtN,EAAIC,UAGjBM,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,EAAK3C,SAAS,Q,kEAdzCD,KAAK2P,wB,+BAkBG,IACAD,EAAa1P,KAAKZ,MAAlBsQ,SACR,OACE,kBAACtD,GAAA,EAAD,CAAOC,QAAM,GACX,kBAACD,GAAA,EAAM1L,OAAP,KACE,kBAAC0L,GAAA,EAAM7G,IAAP,KACE,kBAAC6G,GAAA,EAAME,WAAP,WACA,kBAACF,GAAA,EAAME,WAAP,eACA,kBAACF,GAAA,EAAME,WAAP,eAGJ,kBAACF,GAAA,EAAMG,KAAP,KACGmD,EAASrH,KAAI,SAAAuH,GACZ,OACE,kBAACxD,GAAA,EAAM7G,IAAP,CAAWjD,IAAKsN,EAAE3J,IAChB,kBAACmG,GAAA,EAAMM,KAAP,KAAakD,EAAE3J,IACf,kBAACmG,GAAA,EAAMM,KAAP,cAAckD,EAAEnC,QAChB,kBAACrB,GAAA,EAAMM,KAAP,KAAa,IAAIlK,KAAKoN,EAAEC,WAAWC,yB,GAzCtBjO,IAAMC,WAmD7BiO,G,4MACJ3Q,MAAQ,CACNT,MAAO,KACPsB,SAAS,EACTwJ,SAAU,CACRuG,aAAc,GACdtB,kBAAmB,GACnBC,QAAS,GACTN,SAAS,EACTpI,GAAI,GACJwI,eAAgB,GAChBwB,KAAM,EACNC,IAAK,IAEPC,QAAQ,EACRtC,SAAS,G,EAUXuC,oBAAsB,WAAO,IACnB3G,EAAa,EAAKrK,MAAlBqK,SACF4G,EAAe,6BAChB5G,GADgB,IAEnB4E,SAAU5E,EAAS4E,UAErB,EAAK5O,SAAS,CACZgK,SAAU4G,K,EAId9Q,aAAe,SAAAC,GAAM,IACXiK,EAAa,EAAKrK,MAAlBqK,SACF4G,EAAe,6BAChB5G,GADgB,kBAElBjK,EAAEE,OAAOC,KAAOH,EAAEE,OAAOE,QAE5B,EAAKH,SAAS,CACZgK,SAAU4G,K,EAIdzB,mBAAqB,SAACpP,EAAD,GAAyB,IAAnBG,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MACvB6J,EAAa,EAAKrK,MAAlBqK,SACF4G,EAAe,6BAChB5G,GADgB,kBAElB9J,EAAOC,IAEV,EAAKH,SAAS,CACZgK,SAAU4G,K,EAIdxQ,aAAe,SAAAL,GACb,EAAKC,SAAS,CAAE0Q,QAAQ,IACxB3Q,EAAEM,iBAlHc,gBAmHK,EAAKzB,MAAlBiS,SAEN,EAAKC,sBAEL,EAAKC,uB,EAITA,oBAAsB,WAAO,IAAD,EACK,EAAKnS,MAA5BoS,EADkB,EAClBA,OACAhH,GAFkB,EACViH,WACK,EAAKtR,MAAlBqK,UACRzC,GACG9E,KAAKwE,GADR,6BAEO+C,GAFP,IAGIwG,KAAMQ,EACNT,aAAiD,OAElD7N,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CACZ0Q,QAAQ,EACRtC,SAAS,EACTpE,SAAU,CAAE4E,SAAS,KAEvB,EAAKhQ,MAAMsS,cAEZhO,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7B2N,oBAAsB,WAAO,IAAD,EACK,EAAKlS,MAA5BoS,EADkB,EAClBA,OACAhH,GAFkB,EACViH,WACK,EAAKtR,MAAlBqK,UACRzC,GACG4J,IAAIjK,GAAiB8C,EAASxD,IADjC,6BAEOwD,GAFP,IAGIwG,KAAMQ,EACNT,aAAiD,OAElD7N,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CACZ0Q,QAAQ,EACRtC,SAAS,EACTpE,SAAU,CAAE4E,SAAS,KAEvB,EAAKhQ,MAAMsS,cAEZhO,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,kEA3FR,IAAD,EACY5C,KAAK3B,MAA3BwS,EADU,EACVA,QAzEQ,gBAwEE,EACDP,UAEftQ,KAAKP,SAAS,CAAEgK,SAAUoH,M,+BA4FpB,IACAC,EAAc9Q,KAAK3B,MAAnByS,UADD,EAEsC9Q,KAAKZ,MAA1CT,EAFD,EAECA,MAAO8K,EAFR,EAEQA,SAAUoE,EAFlB,EAEkBA,QAASsC,EAF3B,EAE2BA,OAClC,OACE,kBAACpP,EAAA,EAAD,CAAME,SAAUjB,KAAKH,aAAcgO,QAASA,EAASlP,MAAOA,GAC1D,kBAACoC,EAAA,EAAKK,MAAN,CACE2P,UAAQ,EACRpR,KAAK,iBACL8B,YAAY,iBACZJ,SAAUrB,KAAKT,aACfK,MAAO6J,EAASgF,iBAElB,kBAAC1N,EAAA,EAAKK,MAAN,CACE2P,UAAQ,EACRpR,KAAK,oBACL8B,YAAY,oBACZJ,SAAUrB,KAAKT,aACfK,MAAO6J,EAASiF,oBAElB,kBAAC3N,EAAA,EAAK6J,MAAN,CAAYmG,UAAQ,GAClB,kBAAClG,GAAA,EAAD,CACE5K,QAAS6Q,EAAUxC,OAAS,EAC5BhN,OAAK,EACL6N,WAAS,EACT6B,QAAM,EACNjG,QAAS+F,EACTnR,KAAK,UACL8B,YAAY,UACZJ,SAAUrB,KAAK4O,mBACfhP,MAAO6J,EAASkF,WAGpB,kBAAC5N,EAAA,EAAKK,MAAN,CACE2P,UAAQ,EACRpR,KAAK,MACL8B,YAAY,WACZJ,SAAUrB,KAAKT,aACfK,MAAO6J,EAASyG,MAElB,kBAACnP,EAAA,EAAKkQ,SAAN,CACEtR,KAAK,UACLuR,MAAM,iCACN7P,SAAUrB,KAAKoQ,oBACfe,QAAS1H,EAAS4E,UAEnBR,GACC,kBAACjM,EAAA,EAAD,CAASiM,SAAO,EAACjG,OAAO,WAAW9D,QAAQ,2BAE5CnF,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,qBACP9D,QAAS+D,KAAKC,UAAUnJ,KAG5B,kBAACoC,EAAA,EAAKW,OAAN,CAAaC,SAAUwO,EAAQlQ,QAASkQ,EAAQ/L,SAAO,GAAvD,a,GAxKkBvC,IAAMC,WAgL1BsP,G,4MACJhS,MAAQ,CACNsR,WAAY,kBACZzC,UAAW,GACX6C,UAAW,GACXL,OAAQ,KACRY,gBAAiB,M,EASnBC,gBAAkB,SAAA3R,GAChB,EAAKF,SAAS,CAAEiR,WAAY/Q,IAAQ,WAClC,EAAK4R,2B,EAITC,oBAAsB,WAEpB,MAAmB,oBADI,EAAKpS,MAApBsR,WAEC,mBAEF,mB,EAGTe,sBAAwB,SAAAX,GAEtB,OADa9G,OAAOC,KAAK6G,GACbzI,KAAI,SAAAqJ,GACd,MAAO,CACLpP,IAAKoP,EACL7N,KAAMiN,EAAUY,GAChB9R,MAAO8R,O,EAKbC,oBAAsB,SAAAC,GACpB5K,GACGgF,OAAOpF,GAAiBgL,IACxBzP,MAAK,SAAAC,GACJ,EAAKyP,oBAENlP,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7BkP,oBAAsB,SAAAjB,GACpB,EAAKpR,SAAS,CAAE4R,gBAAiBR,K,EAGnCkB,kBAAoB,WAClB/K,GACGO,IAAIhB,IACJpE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAEgR,OAAQrO,EAAIC,KAAKoO,YAElC9N,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7BoP,qBAAuB,WACrBhL,GACGO,IAAIjB,GACJnE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAEqR,UAAW,EAAKW,sBAAsBrP,EAAIC,WAE3DM,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7B2O,qBAAuB,WACrB,EAAK9R,SAAS,CAAEQ,SAAS,IACF,EAAKb,MAApBsR,WACR1J,GACGO,IAAIf,GAAkD,MACtDrE,MAAK,SAAAC,GACJ,EAAK3C,SAAS,CAAEwO,UAAW7L,EAAIC,KAAMpC,SAAS,OAE/C0C,OAAM,SAAAC,GACL,EAAKnD,SAAS,CAAEd,MAAOiE,Q,EAI7BiP,eAAiB,WACf,EAAKN,uBACL,EAAK9R,SAAS,CAAE4R,gBAAiB,Q,EAGnCY,gBAAkB,WAAO,IAAD,EAOlB,EAAK7S,MALPsR,EAFoB,EAEpBA,WACAzC,EAHoB,EAGpBA,UACA6C,EAJoB,EAIpBA,UACAO,EALoB,EAKpBA,gBACAZ,EANoB,EAMpBA,OAEF,OACE,kBAAC,IAAM3P,SAAP,KACE,kBAACuJ,GAAA,EAAKlC,MAAN,KACG8F,EAAU5F,KAAI,SAAAmG,GACb,OACE,kBAACnE,GAAA,EAAD,CAAM/H,IAAKkM,EAAEvI,IACX,kBAACoE,GAAA,EAAK3B,QAAN,KACG8F,EAAEH,SACD,kBAACjF,EAAA,EAAD,CAAOzI,GAAG,IAAIC,MAAM,OAAOkM,OAAO,SAAlC,WAIF,kBAACzC,GAAA,EAAK3J,OAAN,KACG8N,EAAEC,eADL,KACuBD,EAAEE,mBAEzB,kBAACrE,GAAA,EAAKtB,KAAN,KAAYyF,EAAEG,SACd,kBAACtE,GAAA,EAAKnB,YAAN,KAAmBsF,EAAE0B,MAEvB,kBAAC7F,GAAA,EAAK3B,QAAN,CAAc6B,OAAK,GACjB,kBAAC7I,EAAA,EAAD,CACEd,MAAM,SACN+H,QAAS,kBAAM,EAAKmJ,oBAAoBtD,KAF1C,UAMA,kBAAC9M,EAAA,EAAD,CACEd,MAAM,MACN+H,QAAS,kBAAM,EAAKgJ,oBAAoBnD,EAAEvI,MAF5C,gBAWTgI,EAAUK,OAAS,EAAI,kBAAC7D,GAAA,EAAD,MAAc,KACjB,OAApB4G,EACC,kBAAC,GAAD,CACEX,WAAYA,EACZI,UAAWA,EACXR,SArXQ,cAsXRG,OAAQA,EACRE,SAAU,EAAKkB,iBAEf,KACHR,GACC,kBAAC,GAAD,CACEX,WAAYA,EACZD,OAAQA,EACRK,UAAWA,EACXD,QAASQ,EACTf,SAjYQ,cAkYRK,SAAU,EAAKkB,mB,kEAlJvB7R,KAAKuR,uBACLvR,KAAKgS,uBACLhS,KAAK+R,sB,+BAuJG,IAAD,SACgC/R,KAAKZ,MAApCsR,EADD,EACCA,WAAY/R,EADb,EACaA,MAAOsB,EADpB,EACoBA,QAE3B,OAD4BD,KAAK3B,MAAzB4N,gBAKN,kBAAC9L,EAAA,EAAD,CAAMkF,WAAS,EAAC+E,QAAS,EAAGhC,SAAO,GACjC,kBAACjI,EAAA,EAAKoF,IAAN,CAAU6E,QAAS,GACjB,kBAACjK,EAAA,EAAKK,OAAN,KACG7B,GACC,kBAACiD,EAAA,EAAD,CACEjD,OAAK,EACLiJ,OAAO,qBACP9D,QAAS+D,KAAKC,UAAUnJ,KAG3BsB,GACC,kBAACiB,EAAA,EAAD,KACE,kBAAC6G,EAAA,EAAD,CAAQC,QAAM,EAACjE,UAAQ,GACrB,kBAACkE,EAAA,EAAD,CAAQlE,UAAQ,GAAhB,YAEF,kBAAC2B,EAAA,EAAD,CAAOG,IAAI,6CAKnB,kBAAC1F,EAAA,EAAKoF,IAAN,KACE,kBAACpF,EAAA,EAAKK,OAAN,CAAagF,MAAO,GAClB,kBAAC0M,GAAA,EAAD,CAAMC,UAAQ,EAACjN,UAAQ,EAAC5D,OAAK,GAC3B,kBAAC4Q,GAAA,EAAKhK,KAAN,CACEvI,KAAK,mBACLqI,OAAuB,oBAAf0I,EACR/H,QAAS,kBAAM,EAAK2I,gBAAgB,sBAEtC,kBAACY,GAAA,EAAKhK,KAAN,CACEvI,KAAK,kBACLqI,OAAuB,mBAAf0I,EACR/H,QAAS,kBAAM,EAAK2I,gBAAgB,uBAI1C,kBAACnR,EAAA,EAAKK,OAAN,CAAagF,MAAO,IAClB,kBAAC9E,EAAA,EAAD,KAASV,KAAKwR,uBACd,kBAAC/G,GAAA,EAAD,MACgB,mBAAfiG,EACC,kBAAC,GAAD,MAEA1Q,KAAKiS,qBA5CN,kBAAC,IAAD,CAAU/R,GAAG,e,GAvKJ2B,IAAMC,WAkObC,gBANS,SAAA3C,GACtB,MAAO,CACL6M,gBAAsC,OAArB7M,EAAM4C,KAAKxD,SAIjBuD,CAAyBqP,IC7czBgB,GAbI,kBACjB,kBAAC,EAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,YAAYC,UAAW/K,KACzC,kBAAC,IAAD,CAAO8K,KAAK,uBAAuBC,UAAWhJ,KAC9C,kBAAC,IAAD,CAAO+I,KAAK,SAASC,UAAWC,IAChC,kBAAC,IAAD,CAAOF,KAAK,UAAUC,UAAWE,IACjC,kBAAC,IAAD,CAAOH,KAAK,iBAAiBC,UAAWnH,KACxC,kBAAC,IAAD,CAAOkH,KAAK,YAAYC,UAAWG,KACnC,kBAAC,IAAD,CAAOJ,KAAK,WAAWC,UAAWnB,KAClC,kBAAC,IAAD,CAAOiB,OAAK,EAACC,KAAK,IAAIC,UAAWnN,M,kBCL/BuN,G,kLAEF3S,KAAK3B,MAAMiJ,c,+BAGH,IAAD,SACkCtH,KAAK3B,MAAtCuU,EADD,EACCA,cAAeC,EADhB,EACgBA,KAAM5S,EADtB,EACsBA,QAC7B,OACE,6BACE,kBAACiS,GAAA,EAAD,CAAMnO,UAAQ,GACZ,kBAACH,EAAA,EAAD,KACE,kBAAC,IAAD,CAAM1D,GAAG,KACP,kBAACgS,GAAA,EAAKhK,KAAN,CAAWN,QAAM,GAAjB,SAEF,kBAAC,IAAD,CAAM1H,GAAG,aACP,kBAACgS,GAAA,EAAKhK,KAAN,CAAWN,QAAM,GAAjB,cAEDgL,EACC,kBAAC,IAAM9R,SAAP,KACE,kBAACoR,GAAA,EAAKA,KAAN,CAAWY,SAAS,SAClB,kBAAC,IAAD,CAAM5S,GAAG,YACP,kBAACgS,GAAA,EAAKhK,KAAN,iBAEF,kBAAC6K,GAAA,EAAD,CACExR,KAAK,OACLtB,QAASA,EACT4D,KAAI,UAAc,OAATgP,EAAgBA,EAAKrG,YAAY8B,OAAS,GACnD6D,UAAQ,EACRnJ,UAAU,aAEV,kBAAC+J,GAAA,EAASb,KAAV,KACY,OAATW,EACC,kBAAC,IAAM/R,SAAP,KACG+R,EAAKrG,YAAYnE,KAAI,SAAA2K,GACpB,OACE,kBAACD,GAAA,EAAS7K,KAAV,CAAe5F,IAAK0Q,EAAW/M,IAC5B+M,EAAWnG,SADd,MAC2BmG,EAAW1K,KAAKQ,UAI9C+J,EAAKrG,YAAY8B,OAAS,EACzB,kBAACyE,GAAA,EAAS7K,KAAV,8BACE,KACJ,kBAAC6K,GAAA,EAAStI,QAAV,MAEA,kBAACsI,GAAA,EAAS7K,KAAV,CACE3G,KAAK,cACLsC,KAAK,WACL8E,QAAS,kBACP,EAAKtK,MAAMuK,QAAQC,KAAK,sBAK9B,kBAACkK,GAAA,EAAS7K,KAAV,6BAIN,kBAACgK,GAAA,EAAKhK,KAAN,CAAWN,QAAM,EAACe,QAAS,kBAAM,EAAKtK,MAAMO,WAA5C,YAMJ,kBAACsT,GAAA,EAAKA,KAAN,CAAWY,SAAS,SAClB,kBAAC,IAAD,CAAM5S,GAAG,UACP,kBAACgS,GAAA,EAAKhK,KAAN,CAAWN,QAAM,GAAjB,UAEF,kBAAC,IAAD,CAAM1H,GAAG,WACP,kBAACgS,GAAA,EAAKhK,KAAN,CAAWN,QAAM,GAAjB,cAOT5H,KAAK3B,MAAMC,SAEZ,kBAAC4C,EAAA,EAAD,CACE6C,UAAQ,EACRmB,UAAQ,EACR7E,MAAO,CAAE4S,OAAQ,cAAelO,QAAS,YAEzC,kBAACnB,EAAA,EAAD,CAAWxD,UAAU,UACnB,kBAACD,EAAA,EAAD,CAAMiI,SAAO,EAACrE,UAAQ,EAACuB,WAAS,GAC9B,kBAACnF,EAAA,EAAKK,OAAN,CAAaJ,UAAU,UACrB,kBAACM,EAAA,EAAD,CAAQqD,UAAQ,EAACpD,GAAG,KAAKmD,QAAQ,kDACjC,8E,GAvFWjC,IAAMC,WAmHlBqJ,eACbpJ,aAhBsB,SAAA3C,GACtB,MAAO,CACLwT,cAAoC,OAArBxT,EAAM4C,KAAKxD,MAC1BqU,KAAMzT,EAAMyT,KAAKK,aACjBjT,QAASb,EAAMyT,KAAK5S,YAIG,SAAAhB,GACzB,MAAO,CACLL,OAAQ,kBAAMK,EAASL,MACvB0I,UAAW,kBAAMrI,EAASqI,UAK5BvF,CAGE4Q,KChIEQ,G,kLAEFnT,KAAK3B,MAAM+U,oB,+BAIX,OACE,kBAAC,IAAD,KACE,kBAAC,GAAiBpT,KAAK3B,MACrB,kBAAC,GAAD,Y,GATQyD,aA4BHC,gBAZS,SAAA3C,GACtB,MAAO,CACL6M,gBAAsC,OAArB7M,EAAM4C,KAAKxD,UAIL,SAAAS,GACzB,MAAO,CACLmU,gBAAiB,kBAAMnU,GfsDlB,SAAAA,GACL,IAAMT,EAAQK,aAAawI,QAAQ,SACnC,QAAcgM,IAAV7U,EACFS,EAASL,SACJ,CACL,IAAM2D,EAAiB,IAAIC,KAAK3D,aAAawI,QAAQ,mBACjD9E,GAAkB,IAAIC,KACxBvD,EAASL,MAETK,EAASV,EAAYC,IACrBS,EACEF,GACGwD,EAAeE,WAAY,IAAID,MAAOC,WAAa,ee9DjDV,CAGboR,IC7BIG,GAAcC,QACW,cAA7BlQ,OAAOmQ,SAASC,UAEe,UAA7BpQ,OAAOmQ,SAASC,UAEhBpQ,OAAOmQ,SAASC,SAAS5J,MACvB,2DAsCN,SAAS6J,GAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTxR,MAAK,SAAA4R,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB7U,QACfwU,UAAUC,cAAcO,WAK1BlI,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,4CAMrBxJ,OAAM,SAAAhE,GACLuN,QAAQvN,MAAM,4CAA6CA,M,uBC/EpD0V,GAAe,SAACC,EAAWC,GACtC,OAAO,6BACFD,GACAC,ICADC,GAAe,CACnBhW,MAAO,KACPG,MAAO,KACPsB,SAAS,GAGLwU,GAAY,SAACrV,EAAOsV,GACxB,OAAOL,GAAajV,EAAO,CACzBT,MAAO,KACPsB,SAAS,KAIP1B,GAAc,SAACa,EAAOsV,GAC1B,OAAOL,GAAajV,EAAO,CACzBZ,MAAOkW,EAAOlW,MACdG,MAAO,KACPsB,SAAS,KAIPvB,GAAW,SAACU,EAAOsV,GACvB,OAAOL,GAAajV,EAAO,CACzBT,MAAO+V,EAAO/V,MACdsB,SAAS,KAIP0U,GAAa,SAACvV,EAAOsV,GACzB,OAAOL,GAAajV,EAAO,CACzBZ,MAAO,QAmBIoW,GAfC,WAAmC,IAAlCxV,EAAiC,uDAAzBoV,GAAcE,EAAW,uCAChD,OAAQA,EAAOjW,MACb,IjBvCsB,aiBwCpB,OAAOgW,GAAUrV,GACnB,IjBxCwB,eiByCtB,OAAOb,GAAYa,EAAOsV,GAC5B,IjBzCqB,YiB0CnB,OAAOhW,GAASU,EAAOsV,GACzB,IjB1CuB,ciB2CrB,OAAOC,GAAWvV,GACpB,QACE,OAAOA,IC7CPoV,GAAe,CACnBtB,aAAc,KACdvU,MAAO,KACPsB,SAAS,GAGL4U,GAAY,SAACzV,EAAOsV,GACxB,OAAOL,GAAajV,EAAO,CACzBT,MAAO,KACPsB,SAAS,KAIP6U,GAAc,SAAC1V,EAAOsV,GAC1B,OAAOL,GAAajV,EAAO,CACzB8T,aAAcwB,EAAOrS,KACrB1D,MAAO,KACPsB,SAAS,KAIP8U,GAAW,SAAC3V,EAAOsV,GACvB,OAAOL,GAAajV,EAAO,CACzBT,MAAO+V,EAAO/V,MACdsB,SAAS,KAiBE2U,GAbC,WAAmC,IAAlCxV,EAAiC,uDAAzBoV,GAAcE,EAAW,uCAChD,OAAQA,EAAOjW,MACb,IlB5BsB,akB6BpB,OAAOoW,GAAUzV,GACnB,IlB7BwB,ekB8BtB,OAAO0V,GAAY1V,EAAOsV,GAC5B,IlB9BqB,YkB+BnB,OAAOK,GAAS3V,EAAOsV,GACzB,QACE,OAAOtV,IC7BP4V,GAAkB3R,OAAO4R,sCAAwCC,KAEjEC,GAAcC,aAAgB,CAClCpT,KAAMqT,GACNxC,KAAMyC,KAGFC,GAAQC,aAAYL,GAAaH,GAAgBS,aAAgBC,QAEjEC,GACJ,kBAAC,IAAD,CAAUJ,MAAOA,IACf,kBAAC,GAAD,OAIJK,IAASC,OAAOF,GAAKG,SAASC,eAAe,SJN9B,WACb,GAA6C,kBAAmBnC,UAAW,CAGzE,GADkB,IAAIoC,IAAIC,GAAwB5S,OAAOmQ,UAC3C0C,SAAW7S,OAAOmQ,SAAS0C,OAIvC,OAGF7S,OAAO8S,iBAAiB,QAAQ,WAC9B,IAAMxC,EAAK,UAAMsC,GAAN,sBAEP3C,KAiDV,SAAiCK,GAE/ByC,MAAMzC,GACHxR,MAAK,SAAAmJ,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASnE,QAAQI,IAAI,gBAAgB8O,QAAQ,cAG7CzC,UAAUC,cAAcyC,MAAMnU,MAAK,SAAA4R,GACjCA,EAAawC,aAAapU,MAAK,WAC7BkB,OAAOmQ,SAASgD,eAKpB9C,GAAgBC,MAGnBhR,OAAM,WACLuJ,QAAQC,IACN,oEArEAsK,CAAwB9C,GAIxBC,UAAUC,cAAcyC,MAAMnU,MAAK,WACjC+J,QAAQC,IACN,gHAMJuH,GAAgBC,OIrBxB+C,K","file":"static/js/main.feae5ee4.chunk.js","sourcesContent":["const Hoc = props => props.children;\n\nexport default Hoc;\n","import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  };\n};\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n    }, expirationTime * 1000);\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/login/\", {\n        username: username,\n        password: password\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios\n      .post(\"http://127.0.0.1:8000/rest-auth/registration/\", {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n      if (expirationDate <= new Date()) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(token));\n        dispatch(\n          checkAuthTimeout(\n            (expirationDate.getTime() - new Date().getTime()) / 1000\n          )\n        );\n      }\n    }\n  };\n};\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const CART_START = \"CART_START\";\nexport const CART_SUCCESS = \"CART_SUCCESS\";\nexport const CART_FAIL = \"CART_FAIL\";\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authLogin } from \"../store/actions/auth\";\n\nclass LoginForm extends React.Component {\n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  };\n\n  render() {\n    const { error, loading, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Log-in to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password}\n                  name=\"password\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Login\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              New to us? <NavLink to=\"/signup\">Sign Up</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm);\n","import React from \"react\";\nimport {\n  Button,\n  Form,\n  Grid,\n  Header,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { authSignup } from \"../store/actions/auth\";\n\nclass RegistrationForm extends React.Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\"\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, email, password1, password2 } = this.state;\n    this.props.signup(username, email, password1, password2);\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { username, email, password1, password2 } = this.state;\n    const { error, loading, token } = this.props;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    return (\n      <Grid\n        textAlign=\"center\"\n        style={{ height: \"100vh\" }}\n        verticalAlign=\"middle\"\n      >\n        <Grid.Column style={{ maxWidth: 450 }}>\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Signup to your account\n          </Header>\n          {error && <p>{this.props.error.message}</p>}\n\n          <React.Fragment>\n            <Form size=\"large\" onSubmit={this.handleSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={username}\n                  name=\"username\"\n                  fluid\n                  icon=\"user\"\n                  iconPosition=\"left\"\n                  placeholder=\"Username\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  value={email}\n                  name=\"email\"\n                  fluid\n                  icon=\"mail\"\n                  iconPosition=\"left\"\n                  placeholder=\"E-mail address\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password1}\n                  name=\"password1\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                />\n                <Form.Input\n                  onChange={this.handleChange}\n                  fluid\n                  value={password2}\n                  name=\"password2\"\n                  icon=\"lock\"\n                  iconPosition=\"left\"\n                  placeholder=\"Confirm password\"\n                  type=\"password\"\n                />\n\n                <Button\n                  color=\"teal\"\n                  fluid\n                  size=\"large\"\n                  loading={loading}\n                  disabled={loading}\n                >\n                  Signup\n                </Button>\n              </Segment>\n            </Form>\n            <Message>\n              Already have an account? <NavLink to=\"/login\">Login</NavLink>\n            </Message>\n          </React.Fragment>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: (username, email, password1, password2) =>\n      dispatch(authSignup(username, email, password1, password2))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegistrationForm);\n","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport {\n  Button,\n  Container,\n  Divider,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  List,\n  Menu,\n  Responsive,\n  Segment,\n  Sidebar,\n  Visibility,\n} from 'semantic-ui-react'\nimport { Link, withRouter } from \"react-router-dom\";\n\n// Heads up!\n// We using React Static to prerender our docs with server side rendering, this is a quite simple solution.\n// For more advanced usage please check Responsive docs under the \"Usage\" section.\nconst getWidth = () => {\n  const isSSR = typeof window === 'undefined'\n\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth\n}\n\n/* eslint-disable react/no-multi-comp */\n/* Heads up! HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled components for\n * such things.\n */\n const ImageExampleFluid = () => (\n   <Image src='https://www.gpstracker.at/wp-content/uploads/2019/03/How-GPS-Tracking-Can-Benefit-Delivery-Services.jpg' fluid />\n )\n\nconst HomepageHeading = ({ mobile }) => (\n  <Container text>\n    <Header\n      as='h1'\n      content='AS DELIVERY'\n      inverted\n      style={{\n\n        fontSize: mobile ? '4em' : '6em',\n        fontWeight: 'normal',\n        marginBottom: 0,\n        marginTop: mobile ? '1.5em' : '2.5em',\n      }}\n    />\n    <Header\n      as='h2'\n      content='So fast so hot'\n      inverted\n      style={{\n        fontSize: mobile ? '2em' : '2.5em',\n        fontWeight: 'normal',\n        marginTop: mobile ? '0.5em' : '1.5em',\n      }}\n    />\n    <Link to=\"/products\">\n    <Button primary size='huge'>\n      Order now\n      <Icon name='food' />\n    </Button>\n    </Link>\n\n  </Container>\n)\n\nHomepageHeading.propTypes = {\n  mobile: PropTypes.bool,\n}\n\n/* Heads up!\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\n * It can be more complicated, but you can create really flexible markup.\n */\n\n\nclass DesktopContainer extends Component {\n  state = {}\n\n  hideFixedMenu = () => this.setState({ fixed: false })\n  showFixedMenu = () => this.setState({ fixed: true })\n\n  render() {\n    const { children } = this.props\n    const { fixed } = this.state\n\n    return (\n      <Responsive getWidth={getWidth} minWidth={Responsive.onlyTablet.minWidth}>\n        <Visibility\n          once={false}\n          onBottomPassed={this.showFixedMenu}\n          onBottomPassedReverse={this.hideFixedMenu}\n        >\n        <Segment\n                  inverted\n                  textAlign='center'\n                  style={{ minHeight: 700, padding: '1em 0em',         backgroundImage: `url(${\"https://jooinn.com/images/italian-food-background-1.jpg\"})`,\n                          backgroundSize: 'cover', }}\n                  vertical\n\n                >\n\n                  <HomepageHeading />\n              </Segment>\n\n        </Visibility>\n\n        {children}\n      </Responsive>\n    )\n  }\n}\n\n\nDesktopContainer.propTypes = {\n  children: PropTypes.node,\n}\n\n\n\n\n\nconst ResponsiveContainer = ({ children }) => (\n  <div>\n    <DesktopContainer>{children}</DesktopContainer>\n  </div>\n)\n\nResponsiveContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nconst HomepageLayout = () => (\n  <ResponsiveContainer>\n    <Segment style={{ padding: '8em 0em' }} vertical>\n      <Grid container stackable verticalAlign='middle'>\n        <Grid.Row>\n          <Grid.Column width={8}>\n            <Header as='h1' style={{ fontSize: '4em' }}>\n              We have everything that you like to eat\n            </Header>\n            <p style={{ fontSize: '2em' }}>\n              From pizza to burger and fries that you crave or the juiciest doners.\n              Order from us the largest assortment of delicious food.\n            </p>\n\n          </Grid.Column>\n          <Grid.Column floated='right' width={8}>\n            <Image bordered rounded size='huge' src='https://lh3.googleusercontent.com/proxy/vRMpjBBuPsz_9JANz9-Ex6O9RV0b8cIxU73fjUV1t7D2rFObLiWjlJjUEUEqGtcZyE8ErCjwGO4aU2f6JS1QYJbYd5e43AWJH0TcYUX-V7rsCsdtxvJTdR3QDqVhbtfXUPb2-S_6nxxnEnJcIKXCjYQ' />\n          </Grid.Column>\n        </Grid.Row>\n\n\n\n        <Grid.Row>\n        <Grid.Column floated='right' width={8}>\n          <Image bordered rounded size='huge' src='https://i.pinimg.com/originals/08/53/d4/0853d41c51b9d3caf8828520818ee64a.jpg' />\n        </Grid.Column>\n          <Grid.Column width={8}>\n          <Header as='h3' style={{ fontSize: '4em' }}>\n            No time to cook?\n            We have options\n          </Header>\n          <p style={{ fontSize: '2em' }}>\n            We will deliver food directly to your door.\n            Or try picking up on your way home.\n            Only we have the fastest delivery in the city.\n          </p>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n\n\n\n    <Segment style={{ padding: '8em 0em' }} vertical>\n      <Container text>\n        <Header as='h3' style={{ fontSize: '4em' }}>\n          About us\n        </Header>\n        <p style={{ fontSize: '2em' }}>\nWe are a start-up food delivery company, however in a short time we managed to gather a large number of customers and get more positive reviews. And we do not stop there and strive for great heights.\n        </p>\n\n      </Container>\n    </Segment>\n\n\n  </ResponsiveContainer>\n)\n\nexport default HomepageLayout\n","const localhost = \"http://127.0.0.1:8000\";\n\nconst apiURL = \"/api\";\n\nexport const endpoint = `${localhost}${apiURL}`;\n\nexport const productListURL = `${endpoint}/products/`;\nexport const productDetailURL = id => `${endpoint}/products/${id}/`;\nexport const addToCartURL = `${endpoint}/add-to-cart/`;\nexport const orderSummaryURL = `${endpoint}/order-summary/`;\nexport const checkoutURL = `${endpoint}/checkout/`;\nexport const addCouponURL = `${endpoint}/add-coupon/`;\nexport const countryListURL = `${endpoint}/countries/`;\nexport const userIDURL = `${endpoint}/user-id/`;\nexport const addressListURL = addressType =>\n  `${endpoint}/addresses/?address_type=${addressType}`;\nexport const addressCreateURL = `${endpoint}/addresses/create/`;\nexport const addressUpdateURL = id => `${endpoint}/addresses/${id}/update/`;\nexport const addressDeleteURL = id => `${endpoint}/addresses/${id}/delete/`;\nexport const orderItemDeleteURL = id => `${endpoint}/order-items/${id}/delete/`;\nexport const orderItemUpdateQuantityURL = `${endpoint}/order-item/update-quantity/`;\nexport const paymentListURL = `${endpoint}/payments/`;\n","import axios from \"axios\";\nimport { endpoint } from \"./constants\";\n\nexport const authAxios = axios.create({\n  baseURL: endpoint,\n  headers: {\n    Authorization: `Token ${localStorage.getItem(\"token\")}`\n  }\n});\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"./actionTypes\";\nimport { authAxios } from \"../../utils\";\nimport { orderSummaryURL } from \"../../constants\";\n\nexport const cartStart = () => {\n  return {\n    type: CART_START\n  };\n};\n\nexport const cartSuccess = data => {\n  return {\n    type: CART_SUCCESS,\n    data\n  };\n};\n\nexport const cartFail = error => {\n  return {\n    type: CART_FAIL,\n    error: error\n  };\n};\n\nexport const fetchCart = () => {\n  return dispatch => {\n    dispatch(cartStart());\n    authAxios\n      .get(orderSummaryURL)\n      .then(res => {\n        dispatch(cartSuccess(res.data));\n      })\n      .catch(err => {\n        dispatch(cartFail(err));\n      });\n  };\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport {\n  Container,\n  Dimmer,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { productListURL, addToCartURL } from \"../constants\";\nimport { fetchCart } from \"../store/actions/cart\";\nimport { authAxios } from \"../utils\";\n\n\nclass ProductList extends React.Component {\n  state = {\n    loading: false,\n    error: null,\n    data: []\n  };\n\n  componentDidMount() {\n    this.setState({ loading: true });\n    axios\n      .get(productListURL)\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  }\n\n  handleAddToCart = slug => {\n    this.setState({ loading: true });\n    authAxios\n      .post(addToCartURL, { slug })\n      .then(res => {\n        this.props.refreshCart();\n        this.setState({ loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  render() {\n    const { data, error, loading } = this.state;\n    return (\n      <Container>\n        {error && (\n          <Message\n            error\n            header=\"There was some errors with your submission\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && (\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        <Item.Group divided>\n          {data.map(item => {\n            return (\n              <Item key={item.id}>\n              <Item.Image src={item.image}/> ‎‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎ ‎‏‏‎\n              <Item Price={item.price} />\n                <Item.Content>\n                <br/>\n                  <Item.Header\n                    as=\"a\"\n                    onClick={() =>\n                      this.props.history.push(`/products/${item.id}`)\n                    }\n                  >\n                    {item.title}\n                  </Item.Header>\n\n\n                  <Item.Meta>\n                    <span className=\"cinema\">{item.category}</span>\n                  </Item.Meta>\n                  <Item.Description>{item.description}</Item.Description>\n                  <p><del>₸{item.price}</del></p>\n                  <Label as='a' color='red' tag> ₸{item.discount_price} </Label>\n                </Item.Content>\n              </Item>\n            );\n          })}\n        </Item.Group>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    refreshCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ProductList);\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Card,\n  Container,\n  Dimmer,\n  Form,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment,\n  Select,\n  Divider\n} from \"semantic-ui-react\";\nimport { productDetailURL, addToCartURL } from \"../constants\";\nimport { fetchCart } from \"../store/actions/cart\";\nimport { authAxios } from \"../utils\";\n\nclass ProductDetail extends React.Component {\n  state = {\n    loading: false,\n    error: null,\n    formVisible: false,\n    data: [],\n    formData: {}\n  };\n\n  componentDidMount() {\n    this.handleFetchItem();\n  }\n\n  handleToggleForm = () => {\n    const { formVisible } = this.state;\n    this.setState({\n      formVisible: !formVisible\n    });\n  };\n\n  handleFetchItem = () => {\n    const {\n      match: { params }\n    } = this.props;\n    this.setState({ loading: true });\n    axios\n      .get(productDetailURL(params.productID))\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleFormatData = formData => {\n    return Object.keys(formData).map(key => {\n      return formData[key];\n    });\n  };\n\n  handleAddToCart = slug => {\n    this.setState({ loading: true });\n    const { formData } = this.state;\n    const variations = this.handleFormatData(formData);\n    authAxios\n      .post(addToCartURL, { slug, variations })\n      .then(res => {\n        this.props.refreshCart();\n        this.setState({ loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleChange = (e, { name, value }) => {\n    const { formData } = this.state;\n    const updatedFormData = {\n      ...formData,\n      [name]: value\n    };\n    this.setState({ formData: updatedFormData });\n  };\n\n  render() {\n    const { data, error, formData, formVisible, loading } = this.state;\n    const item = data;\n    return (\n      <Container>\n        {error && (\n          <Message\n            error\n            header=\"There was some errors with your submission\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && (\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        <Grid columns={2} divided>\n          <Grid.Row>\n            <Grid.Column>\n              <Card\n                fluid\n                image={item.image}\n                header={item.category}\n                meta={\n                  <React.Fragment>\n                    {item.title}‎‎‎‏‏‎ ‎‏‏‎ ‎‏‏‎ \n\n                    <Label as='a' color='red' tag> ₸{item.discount_price}</Label>\n                  </React.Fragment>\n                }\n                description={item.description}\n                extra={\n                  <React.Fragment>\n                    <Button\n                      fluid\n                      color=\"yellow\"\n                      floated=\"right\"\n                      icon\n                      labelPosition=\"right\"\n                      onClick={this.handleToggleForm}\n                    >\n                      Add to cart\n                      <Icon name=\"cart plus\" />\n                    </Button>\n                  </React.Fragment>\n                }\n              />\n              {formVisible && (\n                <React.Fragment>\n                  <Divider />\n                  <Form onSubmit={() => this.handleAddToCart(item.slug)}>\n                    {data.variations.map(v => {\n                      const name = v.name.toLowerCase();\n                      return (\n                        <Form.Field key={v.id}>\n                          <Select\n                            name={name}\n                            onChange={this.handleChange}\n                            placeholder={`Select a ${name}`}\n                            fluid\n                            selection\n                            options={v.item_variations.map(item => {\n                              return {\n                                key: item.id,\n                                text: item.value,\n                                value: item.id\n                              };\n                            })}\n                            value={formData[name]}\n                          />\n                        </Form.Field>\n                      );\n                    })}\n                    <Form.Button primary>Add</Form.Button>\n                  </Form>\n                </React.Fragment>\n              )}\n            </Grid.Column>\n            <Grid.Column>\n              <Header as=\"h2\">Try different variations</Header>\n              {data.variations &&\n                data.variations.map(v => {\n                  return (\n                    <React.Fragment key={v.id}>\n                      <Header as=\"h3\">{v.name}</Header>\n                      <Item.Group divided>\n                        {v.item_variations.map(iv => {\n                          return (\n                            <Item key={iv.id}>\n                              {iv.attachment && (\n                                <Item.Image\n                                  size=\"tiny\"\n                                  src={`http://127.0.0.1:8000${iv.attachment}`}\n                                />\n                              )}\n                              <Item.Content verticalAlign=\"middle\">\n                                {iv.value}\n                              </Item.Content>\n                            </Item>\n                          );\n                        })}\n                      </Item.Group>\n                    </React.Fragment>\n                  );\n                })}\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    refreshCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default withRouter(\n  connect(\n    null,\n    mapDispatchToProps\n  )(ProductDetail)\n);\n","import React from \"react\";\nimport {\n  Container,\n  Dimmer,\n  Header,\n  Icon,\n  Image,\n  Label,\n  Loader,\n  Table,\n  Button,\n  Message,\n  Segment\n} from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { authAxios } from \"../utils\";\nimport {\n  addToCartURL,\n  orderSummaryURL,\n  orderItemDeleteURL,\n  orderItemUpdateQuantityURL\n} from \"../constants\";\n\nclass OrderSummary extends React.Component {\n  state = {\n    data: null,\n    error: null,\n    loading: false\n  };\n\n  componentDidMount() {\n    this.handleFetchOrder();\n  }\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"You currently do not have an order\",\n            loading: false\n          });\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  renderVariations = orderItem => {\n    let text = \"\";\n    orderItem.item_variations.forEach(iv => {\n      text += `${iv.variation.name}: ${iv.value}, `;\n    });\n    return text;\n  };\n\n  handleFormatData = itemVariations => {\n    // convert [{id: 1},{id: 2}] to [1,2] - they're all variations\n    return Object.keys(itemVariations).map(key => {\n      return itemVariations[key].id;\n    });\n  };\n\n  handleAddToCart = (slug, itemVariations) => {\n    this.setState({ loading: true });\n    const variations = this.handleFormatData(itemVariations);\n    authAxios\n      .post(addToCartURL, { slug, variations })\n      .then(res => {\n        this.handleFetchOrder();\n        this.setState({ loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleRemoveQuantityFromCart = slug => {\n    authAxios\n      .post(orderItemUpdateQuantityURL, { slug })\n      .then(res => {\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleRemoveItem = itemID => {\n    authAxios\n      .delete(orderItemDeleteURL(itemID))\n      .then(res => {\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  render() {\n    const { data, error, loading } = this.state;\n    const { isAuthenticated } = this.props;\n    if (!isAuthenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n    console.log(data);\n\n    return (\n      <Container>\n        <Header>Order Summary</Header>\n        {error && (\n          <Message\n            error\n            header=\"There was an error\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && (\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n\n            <Image src=\"https://react.semantic-ui.com/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n        {data && (\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>Item #</Table.HeaderCell>\n                <Table.HeaderCell>Item name</Table.HeaderCell>\n                <Table.HeaderCell>Item price</Table.HeaderCell>\n                <Table.HeaderCell>Item quantity</Table.HeaderCell>\n                <Table.HeaderCell>Total item price</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {data.order_items.map((orderItem, i) => {\n                return (\n                  <Table.Row key={orderItem.id}>\n                    <Table.Cell>{i + 1}</Table.Cell>\n                    <Table.Cell>\n                      {orderItem.item.title} -{\" \"}\n                      {this.renderVariations(orderItem)}\n                    </Table.Cell>\n                    <Table.Cell>₸{orderItem.item.price}</Table.Cell>\n                    <Table.Cell textAlign=\"center\">\n                      <Icon\n                        name=\"minus\"\n                        style={{ float: \"left\", cursor: \"pointer\" }}\n                        onClick={() =>\n                          this.handleRemoveQuantityFromCart(orderItem.item.slug)\n                        }\n                      />\n                      {orderItem.quantity}\n                      <Icon\n                        name=\"plus\"\n                        style={{ float: \"right\", cursor: \"pointer\" }}\n                        onClick={() =>\n                          this.handleAddToCart(\n                            orderItem.item.slug,\n                            orderItem.item_variations\n                          )\n                        }\n                      />\n                    </Table.Cell>\n                    <Table.Cell>\n                      {orderItem.item.discount_price && (\n                        <Label color=\"green\" ribbon>\n                          ON DISCOUNT\n                        </Label>\n                      )}\n                      ₸{orderItem.final_price}\n                      <Icon\n                        name=\"trash\"\n                        color=\"red\"\n                        style={{ float: \"right\", cursor: \"pointer\" }}\n                        onClick={() => this.handleRemoveItem(orderItem.id)}\n                      />\n                    </Table.Cell>\n                  </Table.Row>\n                );\n              })}\n              <Table.Row>\n                <Table.Cell />\n                <Table.Cell />\n                <Table.Cell />\n                <Table.Cell textAlign=\"right\" colSpan=\"2\">\n                  Order Total: ₸{data.total}\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"5\">\n                  <Link to=\"/checkout\">\n                    <Button floated=\"right\" color=\"yellow\">\n                      Checkout\n                    </Button>\n                  </Link>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </Container>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nexport default connect(mapStateToProps)(OrderSummary);\n","import React, { Component } from \"react\";\nimport {\n  CardElement,\n  injectStripe,\n  stripe,\n  Elements,\n  StripeProvider\n} from \"react-stripe-elements\";\nimport {\n  Button,\n  Container,\n  Dimmer,\n  Divider,\n  Form,\n  Header,\n  Image,\n  Item,\n  Label,\n  Loader,\n  Message,\n  Segment,\n  Select\n} from \"semantic-ui-react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { authAxios } from \"../utils\";\nimport {\n  checkoutURL,\n  orderSummaryURL,\n  addCouponURL,\n  addressListURL\n} from \"../constants\";\n\nconst OrderPreview = props => {\n  const { data } = props;\n  return (\n    <React.Fragment>\n      {data && (\n        <React.Fragment>\n          <Item.Group relaxed>\n            {data.order_items.map((orderItem, i) => {\n              return (\n                <Item key={i}>\n                  <Item.Image\n                    size=\"tiny\"\n                    src={`http://127.0.0.1:8000${orderItem.item.image}`}\n                  />\n                  <Item.Content verticalAlign=\"middle\">\n                    <Item.Header as=\"a\">\n                      {orderItem.quantity} x {orderItem.item.title}\n                    </Item.Header>\n                    <Item.Extra>\n                      <Label>₸{orderItem.final_price}</Label>\n                    </Item.Extra>\n                  </Item.Content>\n                </Item>\n              );\n            })}\n          </Item.Group>\n\n          <Item.Group>\n            <Item>\n              <Item.Content>\n                <Item.Header>\n                  Order Total: ₸{data.total}\n                  {data.coupon && (\n                    <Label color=\"green\" style={{ marginLeft: \"10px\" }}>\n                      Current coupon: {data.coupon.code} for $\n                      {data.coupon.amount}\n                    </Label>\n                  )}\n                </Item.Header>\n              </Item.Content>\n            </Item>\n          </Item.Group>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  );\n};\n\nclass CouponForm extends Component {\n  state = {\n    code: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({\n      code: e.target.value\n    });\n  };\n\n  handleSubmit = e => {\n    const { code } = this.state;\n    this.props.handleAddCoupon(e, code);\n    this.setState({ code: \"\" });\n  };\n\n  render() {\n    const { code } = this.state;\n    return (\n      <React.Fragment>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Field>\n            <label>Coupon code</label>\n            <input\n              placeholder=\"Enter a coupon..\"\n              value={code}\n              onChange={this.handleChange}\n            />\n          </Form.Field>\n          <Button type=\"submit\">Submit</Button>\n        </Form>\n      </React.Fragment>\n    );\n  }\n}\n\nclass CheckoutForm extends Component {\n  state = {\n    data: null,\n    loading: false,\n    error: null,\n    success: false,\n    shippingAddresses: [],\n    selectedShippingAddress: \"\"\n  };\n\n  componentDidMount() {\n    this.handleFetchOrder();\n    this.handleFetchShippingAddresses();\n  }\n\n  handleGetDefaultAddress = addresses => {\n    const filteredAddresses = addresses.filter(el => el.default === true);\n    if (filteredAddresses.length > 0) {\n      return filteredAddresses[0].id;\n    }\n    return \"\";\n  };\n\n  handleFetchShippingAddresses = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(addressListURL(\"S\"))\n      .then(res => {\n        this.setState({\n          shippingAddresses: res.data.map(a => {\n            return {\n              key: a.id,\n              text: `${a.street_address}, ${a.apartment_address}, ${a.country}`,\n              value: a.id\n            };\n          }),\n          selectedShippingAddress: this.handleGetDefaultAddress(res.data),\n          loading: false\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleFetchOrder = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(orderSummaryURL)\n      .then(res => {\n        this.setState({ data: res.data, loading: false });\n      })\n      .catch(err => {\n        if (err.response.status === 404) {\n          this.props.history.push(\"/products\");\n        } else {\n          this.setState({ error: err, loading: false });\n        }\n      });\n  };\n\n  handleAddCoupon = (e, code) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    authAxios\n      .post(addCouponURL, { code })\n      .then(res => {\n        this.setState({ loading: false });\n        this.handleFetchOrder();\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  handleSelectChange = (e, { name, value }) => {\n    this.setState({ [name]: value });\n  };\n\n  submit = ev => {\n    ev.preventDefault();\n    this.setState({ loading: true });\n    if (this.props.stripe) {\n      this.props.stripe.createToken().then(result => {\n        if (result.error) {\n          this.setState({ error: result.error.message, loading: false });\n        } else {\n          this.setState({ error: null });\n          const {\n            selectedShippingAddress\n          } = this.state;\n          authAxios\n            .post(checkoutURL, {\n              stripeToken: result.token.id,\n              selectedShippingAddress\n            })\n            .then(res => {\n              this.setState({ loading: false, success: true });\n            })\n            .catch(err => {\n              this.setState({ loading: false, error: err });\n            });\n        }\n      });\n    } else {\n      console.log(\"Stripe is not loaded\");\n    }\n  };\n\n  render() {\n    const {\n      data,\n      error,\n      loading,\n      success,\n      shippingAddresses,\n      selectedShippingAddress\n    } = this.state;\n\n    return (\n      <div>\n        {error && (\n          <Message\n            error\n            header=\"There was some errors with your submission\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        {loading && (\n          <Segment>\n            <Dimmer active inverted>\n              <Loader inverted>Loading</Loader>\n            </Dimmer>\n            <Image src=\"/images/wireframe/short-paragraph.png\" />\n          </Segment>\n        )}\n\n        <OrderPreview data={data} />\n        <Divider />\n        <CouponForm\n          handleAddCoupon={(e, code) => this.handleAddCoupon(e, code)}\n        />\n        <Divider />\n\n        <Header>Select a shipping address</Header>\n        {shippingAddresses.length > 0 ? (\n          <Select\n            name=\"selectedShippingAddress\"\n            value={selectedShippingAddress}\n            clearable\n            options={shippingAddresses}\n            selection\n            onChange={this.handleSelectChange}\n          />\n        ) : (\n          <p>\n            You need to <Link to=\"/profile\">add a shipping address</Link>\n          </p>\n        )}\n        <Divider />\n\n        {shippingAddresses.length < 1 ? (\n          <p>You need to add addresses before you can complete your purchase</p>\n        ) : (\n          <React.Fragment>\n            <Header>Would you like to complete the purchase?</Header>\n            <CardElement />\n            {success && (\n              <Message positive>\n                <Message.Header>Your payment was successful</Message.Header>\n                <p>\n                  Go to your <b>profile</b> to see the order delivery status.\n                </p>\n              </Message>\n            )}\n            <Button\n              loading={loading}\n              disabled={loading}\n              primary\n              onClick={this.submit}\n              style={{ marginTop: \"10px\" }}\n            >\n              Submit\n            </Button>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nconst InjectedForm = withRouter(injectStripe(CheckoutForm));\n\nconst WrappedForm = () => (\n  <Container text>\n    <StripeProvider apiKey=\"pk_test_OJDiZMnL3U35JzUD0L4bMo3q00hHYaA3YY\">\n      <div>\n        <h1>Complete your order</h1>\n        <Elements>\n          <InjectedForm />\n        </Elements>\n      </div>\n    </StripeProvider>\n  </Container>\n);\n\nexport default WrappedForm;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport {\n  Button,\n  Card,\n  Dimmer,\n  Divider,\n  Form,\n  Grid,\n  Header,\n  Image,\n  Label,\n  Loader,\n  Menu,\n  Message,\n  Segment,\n  Select,\n  Table\n} from \"semantic-ui-react\";\nimport {\n  countryListURL,\n  addressListURL,\n  addressCreateURL,\n  addressUpdateURL,\n  addressDeleteURL,\n  userIDURL,\n  paymentListURL\n} from \"../constants\";\nimport { authAxios } from \"../utils\";\n\nconst UPDATE_FORM = \"UPDATE_FORM\";\nconst CREATE_FORM = \"CREATE_FORM\";\n\nclass PaymentHistory extends React.Component {\n  state = {\n    payments: []\n  };\n\n  componentDidMount() {\n    this.handleFetchPayments();\n  }\n\n  handleFetchPayments = () => {\n    this.setState({ loading: true });\n    authAxios\n      .get(paymentListURL)\n      .then(res => {\n        this.setState({\n          loading: false,\n          payments: res.data\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err, loading: false });\n      });\n  };\n\n  render() {\n    const { payments } = this.state;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Amount</Table.HeaderCell>\n            <Table.HeaderCell>Date</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {payments.map(p => {\n            return (\n              <Table.Row key={p.id}>\n                <Table.Cell>{p.id}</Table.Cell>\n                <Table.Cell>₸{p.amount}</Table.Cell>\n                <Table.Cell>{new Date(p.timestamp).toUTCString()}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nclass AddressForm extends React.Component {\n  state = {\n    error: null,\n    loading: false,\n    formData: {\n      address_type: \"\",\n      apartment_address: \"\",\n      country: \"\",\n      default: false,\n      id: \"\",\n      street_address: \"\",\n      user: 1,\n      zip: \"\"\n    },\n    saving: false,\n    success: false\n  };\n\n  componentDidMount() {\n    const { address, formType } = this.props;\n    if (formType === UPDATE_FORM) {\n      this.setState({ formData: address });\n    }\n  }\n\n  handleToggleDefault = () => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      default: !formData.default\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleChange = e => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [e.target.name]: e.target.value\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleSelectChange = (e, { name, value }) => {\n    const { formData } = this.state;\n    const updatedFormdata = {\n      ...formData,\n      [name]: value\n    };\n    this.setState({\n      formData: updatedFormdata\n    });\n  };\n\n  handleSubmit = e => {\n    this.setState({ saving: true });\n    e.preventDefault();\n    const { formType } = this.props;\n    if (formType === UPDATE_FORM) {\n      this.handleUpdateAddress();\n    } else {\n      this.handleCreateAddress();\n    }\n  };\n\n  handleCreateAddress = () => {\n    const { userID, activeItem } = this.props;\n    const { formData } = this.state;\n    authAxios\n      .post(addressCreateURL, {\n        ...formData,\n        user: userID,\n        address_type: activeItem === \"shippingAddress\" ? \"S\" : \"S\"\n      })\n      .then(res => {\n        this.setState({\n          saving: false,\n          success: true,\n          formData: { default: false }\n        });\n        this.props.callback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleUpdateAddress = () => {\n    const { userID, activeItem } = this.props;\n    const { formData } = this.state;\n    authAxios\n      .put(addressUpdateURL(formData.id), {\n        ...formData,\n        user: userID,\n        address_type: activeItem === \"shippingAddress\" ? \"S\" : \"S\"\n      })\n      .then(res => {\n        this.setState({\n          saving: false,\n          success: true,\n          formData: { default: false }\n        });\n        this.props.callback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  render() {\n    const { countries } = this.props;\n    const { error, formData, success, saving } = this.state;\n    return (\n      <Form onSubmit={this.handleSubmit} success={success} error={error}>\n        <Form.Input\n          required\n          name=\"street_address\"\n          placeholder=\"Street address\"\n          onChange={this.handleChange}\n          value={formData.street_address}\n        />\n        <Form.Input\n          required\n          name=\"apartment_address\"\n          placeholder=\"Apartment address\"\n          onChange={this.handleChange}\n          value={formData.apartment_address}\n        />\n        <Form.Field required>\n          <Select\n            loading={countries.length < 1}\n            fluid\n            clearable\n            search\n            options={countries}\n            name=\"country\"\n            placeholder=\"Country\"\n            onChange={this.handleSelectChange}\n            value={formData.country}\n          />\n        </Form.Field>\n        <Form.Input\n          required\n          name=\"zip\"\n          placeholder=\"Zip code\"\n          onChange={this.handleChange}\n          value={formData.zip}\n        />\n        <Form.Checkbox\n          name=\"default\"\n          label=\"Make this the default address?\"\n          onChange={this.handleToggleDefault}\n          checked={formData.default}\n        />\n        {success && (\n          <Message success header=\"Success!\" content=\"Your address was saved\" />\n        )}\n        {error && (\n          <Message\n            error\n            header=\"There was an error\"\n            content={JSON.stringify(error)}\n          />\n        )}\n        <Form.Button disabled={saving} loading={saving} primary>\n          Save\n        </Form.Button>\n      </Form>\n    );\n  }\n}\n\nclass Profile extends React.Component {\n  state = {\n    activeItem: \"shippingAddress\",\n    addresses: [],\n    countries: [],\n    userID: null,\n    selectedAddress: null\n  };\n\n  componentDidMount() {\n    this.handleFetchAddresses();\n    this.handleFetchCountries();\n    this.handleFetchUserID();\n  }\n\n  handleItemClick = name => {\n    this.setState({ activeItem: name }, () => {\n      this.handleFetchAddresses();\n    });\n  };\n\n  handleGetActiveItem = () => {\n    const { activeItem } = this.state;\n    if (activeItem === \"shippingAddress\") {\n      return \"Shipping Address\";\n    }\n    return \"Payment History\";\n  };\n\n  handleFormatCountries = countries => {\n    const keys = Object.keys(countries);\n    return keys.map(k => {\n      return {\n        key: k,\n        text: countries[k],\n        value: k\n      };\n    });\n  };\n\n  handleDeleteAddress = addressID => {\n    authAxios\n      .delete(addressDeleteURL(addressID))\n      .then(res => {\n        this.handleCallback();\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleSelectAddress = address => {\n    this.setState({ selectedAddress: address });\n  };\n\n  handleFetchUserID = () => {\n    authAxios\n      .get(userIDURL)\n      .then(res => {\n        this.setState({ userID: res.data.userID });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleFetchCountries = () => {\n    authAxios\n      .get(countryListURL)\n      .then(res => {\n        this.setState({ countries: this.handleFormatCountries(res.data) });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleFetchAddresses = () => {\n    this.setState({ loading: true });\n    const { activeItem } = this.state;\n    authAxios\n      .get(addressListURL(activeItem === \"shippingAddress\" ? \"S\" : \"S\"))\n      .then(res => {\n        this.setState({ addresses: res.data, loading: false });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n      });\n  };\n\n  handleCallback = () => {\n    this.handleFetchAddresses();\n    this.setState({ selectedAddress: null });\n  };\n\n  renderAddresses = () => {\n    const {\n      activeItem,\n      addresses,\n      countries,\n      selectedAddress,\n      userID\n    } = this.state;\n    return (\n      <React.Fragment>\n        <Card.Group>\n          {addresses.map(a => {\n            return (\n              <Card key={a.id}>\n                <Card.Content>\n                  {a.default && (\n                    <Label as=\"a\" color=\"blue\" ribbon=\"right\">\n                      Default\n                    </Label>\n                  )}\n                  <Card.Header>\n                    {a.street_address}, {a.apartment_address}\n                  </Card.Header>\n                  <Card.Meta>{a.country}</Card.Meta>\n                  <Card.Description>{a.zip}</Card.Description>\n                </Card.Content>\n                <Card.Content extra>\n                  <Button\n                    color=\"yellow\"\n                    onClick={() => this.handleSelectAddress(a)}\n                  >\n                    Update\n                  </Button>\n                  <Button\n                    color=\"red\"\n                    onClick={() => this.handleDeleteAddress(a.id)}\n                  >\n                    Delete\n                  </Button>\n                </Card.Content>\n              </Card>\n            );\n          })}\n        </Card.Group>\n        {addresses.length > 0 ? <Divider /> : null}\n        {selectedAddress === null ? (\n          <AddressForm\n            activeItem={activeItem}\n            countries={countries}\n            formType={CREATE_FORM}\n            userID={userID}\n            callback={this.handleCallback}\n          />\n        ) : null}\n        {selectedAddress && (\n          <AddressForm\n            activeItem={activeItem}\n            userID={userID}\n            countries={countries}\n            address={selectedAddress}\n            formType={UPDATE_FORM}\n            callback={this.handleCallback}\n          />\n        )}\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    const { activeItem, error, loading } = this.state;\n    const { isAuthenticated } = this.props;\n    if (!isAuthenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n    return (\n      <Grid container columns={2} divided>\n        <Grid.Row columns={1}>\n          <Grid.Column>\n            {error && (\n              <Message\n                error\n                header=\"There was an error\"\n                content={JSON.stringify(error)}\n              />\n            )}\n            {loading && (\n              <Segment>\n                <Dimmer active inverted>\n                  <Loader inverted>Loading</Loader>\n                </Dimmer>\n                <Image src=\"/images/wireframe/short-paragraph.png\" />\n              </Segment>\n            )}\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <Grid.Column width={6}>\n            <Menu pointing vertical fluid>\n              <Menu.Item\n                name=\"Shipping Address\"\n                active={activeItem === \"shippingAddress\"}\n                onClick={() => this.handleItemClick(\"shippingAddress\")}\n              />\n              <Menu.Item\n                name=\"Payment history\"\n                active={activeItem === \"paymentHistory\"}\n                onClick={() => this.handleItemClick(\"paymentHistory\")}\n              />\n            </Menu>\n          </Grid.Column>\n          <Grid.Column width={10}>\n            <Header>{this.handleGetActiveItem()}</Header>\n            <Divider />\n            {activeItem === \"paymentHistory\" ? (\n              <PaymentHistory />\n            ) : (\n              this.renderAddresses()\n            )}\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nexport default connect(mapStateToProps)(Profile);\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Hoc from \"./hoc/hoc\";\n\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport HomepageLayout from \"./containers/Home\";\nimport ProductList from \"./containers/ProductList\";\nimport ProductDetail from \"./containers/ProductDetail\";\nimport OrderSummary from \"./containers/OrderSummary\";\nimport Checkout from \"./containers/Checkout\";\nimport Profile from \"./containers/Profile\";\n\nconst BaseRouter = () => (\n  <Hoc>\n    <Route exact path=\"/products\" component={ProductList} />\n    <Route path=\"/products/:productID\" component={ProductDetail} />\n    <Route path=\"/login\" component={Login} />\n    <Route path=\"/signup\" component={Signup} />\n    <Route path=\"/order-summary\" component={OrderSummary} />\n    <Route path=\"/checkout\" component={Checkout} />\n    <Route path=\"/profile\" component={Profile} />\n    <Route exact path=\"/\" component={HomepageLayout} />\n  </Hoc>\n);\n\nexport default BaseRouter;\n","import React from \"react\";\nimport {\n  Container,\n  Divider,\n  Dropdown,\n  Grid,\n  Header,\n  Image,\n  List,\n  Menu,\n  Segment\n} from \"semantic-ui-react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../store/actions/auth\";\nimport { fetchCart } from \"../store/actions/cart\";\n\nclass CustomLayout extends React.Component {\n  componentDidMount() {\n    this.props.fetchCart();\n  }\n\n  render() {\n    const { authenticated, cart, loading } = this.props;\n    return (\n      <div>\n        <Menu inverted>\n          <Container>\n            <Link to=\"/\">\n              <Menu.Item header>Home</Menu.Item>\n            </Link>\n            <Link to=\"/products\">\n              <Menu.Item header>Order now</Menu.Item>\n            </Link>\n            {authenticated ? (\n              <React.Fragment>\n                <Menu.Menu position=\"right\">\n                  <Link to=\"/profile\">\n                    <Menu.Item>Profile</Menu.Item>\n                  </Link>\n                  <Dropdown\n                    icon=\"cart\"\n                    loading={loading}\n                    text={`${cart !== null ? cart.order_items.length : 0}`}\n                    pointing\n                    className=\"link item\"\n                  >\n                    <Dropdown.Menu>\n                      {cart !== null ? (\n                        <React.Fragment>\n                          {cart.order_items.map(order_item => {\n                            return (\n                              <Dropdown.Item key={order_item.id}>\n                                {order_item.quantity} x {order_item.item.title}\n                              </Dropdown.Item>\n                            );\n                          })}\n                          {cart.order_items.length < 1 ? (\n                            <Dropdown.Item>No items in your cart</Dropdown.Item>\n                          ) : null}\n                          <Dropdown.Divider />\n\n                          <Dropdown.Item\n                            icon=\"arrow right\"\n                            text=\"Checkout\"\n                            onClick={() =>\n                              this.props.history.push(\"/order-summary\")\n                            }\n                          />\n                        </React.Fragment>\n                      ) : (\n                        <Dropdown.Item>Your cart is empty</Dropdown.Item>\n                      )}\n                    </Dropdown.Menu>\n                  </Dropdown>\n                  <Menu.Item header onClick={() => this.props.logout()}>\n                    Logout\n                  </Menu.Item>\n                </Menu.Menu>\n              </React.Fragment>\n            ) : (\n              <Menu.Menu position=\"right\">\n                <Link to=\"/login\">\n                  <Menu.Item header>Login</Menu.Item>\n                </Link>\n                <Link to=\"/signup\">\n                  <Menu.Item header>Signup</Menu.Item>\n                </Link>\n              </Menu.Menu>\n            )}\n          </Container>\n        </Menu>\n\n        {this.props.children}\n\n        <Segment\n          inverted\n          vertical\n          style={{ margin: \"5em 0em 0em\", padding: \"5em 0em\" }}\n        >\n          <Container textAlign=\"center\">\n            <Grid divided inverted stackable>\n              <Grid.Column textAlign=\"center\">\n                <Header inverted as=\"h3\" content=\"made by Alibi Nassipkali and Sanzhar Ashimbay\" />\n                <p>Especially for Networking and Security\n                </p>\n              </Grid.Column>\n            </Grid>\n\n\n          </Container>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    authenticated: state.auth.token !== null,\n    cart: state.cart.shoppingCart,\n    loading: state.cart.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(logout()),\n    fetchCart: () => dispatch(fetchCart())\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(CustomLayout)\n);\n","import React, { Component } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport BaseRouter from \"./routes\";\nimport * as actions from \"./store/actions/auth\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport CustomLayout from \"./containers/Layout\";\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  render() {\n    return (\n      <Router>\n        <CustomLayout {...this.props}>\n          <BaseRouter />\n        </CustomLayout>\n      </Router>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  };\n};\n","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"../actions/actionTypes\";\nimport { updateObject } from \"../utility\";\n\nconst initialState = {\n  shoppingCart: null,\n  error: null,\n  loading: false\n};\n\nconst cartStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst cartSuccess = (state, action) => {\n  return updateObject(state, {\n    shoppingCart: action.data,\n    error: null,\n    loading: false\n  });\n};\n\nconst cartFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CART_START:\n      return cartStart(state, action);\n    case CART_SUCCESS:\n      return cartSuccess(state, action);\n    case CART_FAIL:\n      return cartFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport authReducer from \"./store/reducers/auth\";\nimport cartReducer from \"./store/reducers/cart\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  cart: cartReducer\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(app, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}